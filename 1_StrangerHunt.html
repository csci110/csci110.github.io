<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>1_StrangerHunt.md</title><style type='text/css'>html {overflow-x: initial !important;}.CodeMirror { height: auto; }
.CodeMirror-scroll { overflow-y: hidden; overflow-x: auto; }
.CodeMirror-lines { padding: 4px 0px; }
.CodeMirror pre { }
.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler { background-color: white; }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background-color: rgb(247, 247, 247); white-space: nowrap; }
.CodeMirror-linenumbers { }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.CodeMirror div.CodeMirror-cursor { border-left: 1px solid black; z-index: 3; }
.CodeMirror div.CodeMirror-secondarycursor { border-left: 1px solid silver; }
.CodeMirror.cm-keymap-fat-cursor div.CodeMirror-cursor { width: auto; border: 0px; background: rgb(119, 238, 119); z-index: 1; }
.CodeMirror div.CodeMirror-cursor.CodeMirror-overwrite { }
.cm-tab { display: inline-block; }
.cm-s-typora-default .cm-header, .cm-s-typora-default .cm-property { color: rgb(217, 79, 138); }
.cm-s-typora-default pre.cm-header1:not(.cm-atom) :not(.cm-overlay) { font-size: 2rem; line-height: 2rem; }
.cm-s-typora-default pre.cm-header2:not(.cm-atom) :not(.cm-overlay) { font-size: 1.4rem; line-height: 1.4rem; }
.cm-s-typora-default .cm-atom, .cm-s-typora-default .cm-number { color: rgb(149, 132, 134); }
.cm-s-typora-default .cm-table-row, .cm-s-typora-default .cm-block-start { font-family: monospace; }
.cm-s-typora-default .cm-comment, .cm-s-typora-default .cm-code { color: rgb(74, 90, 159); font-family: monospace; }
.cm-s-typora-default .cm-tag { color: rgb(169, 68, 66); }
.cm-s-typora-default .cm-string { color: rgb(126, 134, 169); }
.cm-s-typora-default .cm-link { color: rgb(196, 122, 15); text-decoration: underline; }
.cm-s-typora-default .cm-variable-2, .cm-s-typora-default .cm-variable-1 { color: inherit; }
.cm-s-typora-default .cm-overlay { font-family: monospace; }
.CodeMirror.cm-s-typora-default div.CodeMirror-cursor { border-left: 3px solid rgb(228, 98, 154); }
.cm-s-typora-default .CodeMirror-activeline-background { left: -60px; right: -30px; background: rgba(204, 204, 204, 0.2); }
.cm-s-typora-default .CodeMirror-gutters { border-right: none; background-color: inherit; }
.cm-s-typora-default .cm-trailing-space-new-line::after, .cm-startspace::after, .cm-starttab .cm-tab::after { content: "•"; position: absolute; left: 0px; opacity: 0; font-family: LetterGothicStd, monospace; }
.os-windows .cm-startspace::after, .os-windows .cm-starttab .cm-tab::after { left: -0.1em; }
.cm-starttab .cm-tab::after { content: " "; }
.cm-startspace, .cm-tab, .cm-starttab, .cm-trailing-space-a, .cm-trailing-space-b, .cm-trailing-space-new-line { font-family: monospace; position: relative; }
.cm-s-typora-default .cm-trailing-space-new-line::after { content: "↓"; opacity: 0.3; }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: black; }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-property { color: black; }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: blue; }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: bold; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: rgb(255, 0, 0); }
.cm-invalidchar { color: rgb(255, 0, 0); }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { margin-bottom: -30px; margin-right: -30px; padding-bottom: 30px; padding-right: 30px; height: 100%; outline: none; position: relative; box-sizing: content-box; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow-x: hidden; overflow-y: scroll; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow-y: hidden; overflow-x: scroll; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: none !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: transparent; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-widget { }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.CodeMirror-selected { background: rgb(217, 217, 217); }
.CodeMirror-focused .CodeMirror-selected { background: rgb(215, 212, 240); }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
.CodeMirror span { }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}
.CodeMirror-lint-markers { width: 16px; }
.CodeMirror-lint-tooltip { background-color: infobackground; border: 1px solid black; border-radius: 4px; color: infotext; font-family: monospace; overflow: hidden; padding: 2px 5px; position: fixed; white-space: pre-wrap; z-index: 10000; max-width: 600px; opacity: 0; transition: opacity 0.4s; font-size: 0.8em; }
.CodeMirror-lint-mark-error, .CodeMirror-lint-mark-warning { background-position: left bottom; background-repeat: repeat-x; }
.CodeMirror-lint-mark-error { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg=="); }
.CodeMirror-lint-marker-error, .CodeMirror-lint-marker-warning { background-position: center center; background-repeat: no-repeat; cursor: pointer; display: inline-block; height: 16px; width: 16px; vertical-align: middle; position: relative; }
.CodeMirror-lint-message-error, .CodeMirror-lint-message-warning { padding-left: 18px; background-position: left top; background-repeat: no-repeat; }
.CodeMirror-lint-marker-error, .CodeMirror-lint-message-error { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII="); }
.CodeMirror-lint-marker-warning, .CodeMirror-lint-message-warning { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII="); }
.CodeMirror-lint-marker-multiple { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC"); background-repeat: no-repeat; background-position: right bottom; width: 100%; height: 100%; }


:root { --bg-color: #ffffff; --text-color: #333333; --code-block-bg-color: inherit; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { background: rgb(181, 214, 252); text-shadow: none; }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; padding-bottom: 70px; white-space: pre-wrap; overflow-x: visible; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
.typora-export #write { margin: 0px auto; }
#write > p:first-child, #write > ul:first-child, #write > ol:first-child, #write > pre:first-child, #write > blockquote:first-child, #write > div:first-child, #write > table:first-child { margin-top: 30px; }
#write li > table:first-child { margin-top: -20px; }
img { max-width: 100%; vertical-align: middle; }
input, button, select, textarea { color: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
::before, ::after, * { box-sizing: border-box; }
#write p, #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write div, #write pre { width: inherit; }
#write p, #write h1, #write h2, #write h3, #write h4, #write h5, #write h6 { position: relative; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
p { -webkit-margin-before: 1rem; -webkit-margin-after: 1rem; -webkit-margin-start: 0px; -webkit-margin-end: 0px; }
.typora-export p { white-space: normal; }
.mathjax-block { margin-top: 0px; margin-bottom: 0px; -webkit-margin-before: 0rem; -webkit-margin-after: 0rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: bold; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; margin: 4px 0px 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 80px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
pre { white-space: pre-wrap; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: var(--code-block-bg-color); position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
.md-fences .CodeMirror.CodeMirror-wrap { top: -1.6em; margin-bottom: -1.6em; }
.md-fences.mock-cm { white-space: pre-wrap; }
.show-fences-line-number .md-fences { padding-left: 0px; }
.show-fences-line-number .md-fences.mock-cm { padding-left: 40px; }
.footnotes { opacity: 0.8; font-size: 0.9rem; padding-top: 1em; padding-bottom: 1em; }
.footnotes + .footnotes { margin-top: -1em; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: transparent; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: normal; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li p, li .mathjax-block { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; }
@media print {
  html, body { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  h1, h2, h3, h4, h5, h6 { break-after: avoid-page; orphans: 2; }
  p { orphans: 4; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 1cm; padding-right: 1cm; padding-bottom: 0px; break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  @page { margin: 20mm 0mm; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 2.86rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p .md-image:only-child { display: inline-block; width: 100%; text-align: center; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.mathjax-block { white-space: pre; overflow: hidden; width: 100%; }
p + .mathjax-block { margin-top: -1.143rem; }
.mathjax-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: none; box-shadow: none; }
.task-list { list-style-type: none; }
.task-list-item { position: relative; padding-left: 1em; }
.task-list-item input { position: absolute; top: 0px; left: 0px; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc::after, .md-toc-content::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); text-decoration: none; }
.md-toc-inner:hover { }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: bold; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
.md-tag { opacity: 0.5; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: monospace; }
code { text-align: left; }
h1 .md-tag, h2 .md-tag, h3 .md-tag, h4 .md-tag, h5 .md-tag, h6 .md-tag { font-weight: initial; opacity: 0.35; }
a.md-print-anchor { border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: none !important; background: transparent !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.mathjax-block .MathJax_SVG_Display { text-align: center; margin: 1em 0em; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: monospace; }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: normal; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; }


:root { --side-bar-bg-color: #fafafa; --control-text-color: #777; }
@font-face { font-family: "Open Sans"; font-style: normal; font-weight: normal; src: local("Open Sans Regular"), url("./github/400.woff") format("woff"); }
@font-face { font-family: "Open Sans"; font-style: italic; font-weight: normal; src: local("Open Sans Italic"), url("./github/400i.woff") format("woff"); }
@font-face { font-family: "Open Sans"; font-style: normal; font-weight: bold; src: local("Open Sans Bold"), url("./github/700.woff") format("woff"); }
@font-face { font-family: "Open Sans"; font-style: italic; font-weight: bold; src: local("Open Sans Bold Italic"), url("./github/700i.woff") format("woff"); }
html { font-size: 16px; }
body { font-family: "Open Sans", "Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif; color: rgb(51, 51, 51); line-height: 1.6; }
#write { max-width: 860px; margin: 0px auto; padding: 20px 30px 100px; }
#write > ul:first-child, #write > ol:first-child { margin-top: 30px; }
body > :first-child { margin-top: 0px !important; }
body > :last-child { margin-bottom: 0px !important; }
a { color: rgb(65, 131, 196); }
h1, h2, h3, h4, h5, h6 { position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text; }
h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor { text-decoration: none; }
h1 tt, h1 code { font-size: inherit; }
h2 tt, h2 code { font-size: inherit; }
h3 tt, h3 code { font-size: inherit; }
h4 tt, h4 code { font-size: inherit; }
h5 tt, h5 code { font-size: inherit; }
h6 tt, h6 code { font-size: inherit; }
h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
h3 { font-size: 1.5em; line-height: 1.43; }
h4 { font-size: 1.25em; }
h5 { font-size: 1em; }
h6 { font-size: 1em; color: rgb(119, 119, 119); }
p, blockquote, ul, ol, dl, table { margin: 0.8em 0px; }
li > ol, li > ul { margin: 0px; }
hr { height: 4px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border-width: 0px 0px 1px; border-style: none none solid; border-top-color: initial; border-right-color: initial; border-left-color: initial; border-image: initial; overflow: hidden; box-sizing: content-box; border-bottom-color: rgb(221, 221, 221); }
body > h2:first-child { margin-top: 0px; padding-top: 0px; }
body > h1:first-child { margin-top: 0px; padding-top: 0px; }
body > h1:first-child + h2 { margin-top: 0px; padding-top: 0px; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child { margin-top: 0px; padding-top: 0px; }
a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 { margin-top: 0px; padding-top: 0px; }
h1 p, h2 p, h3 p, h4 p, h5 p, h6 p { margin-top: 0px; }
li p.first { display: inline-block; }
ul, ol { padding-left: 30px; }
ul:first-child, ol:first-child { margin-top: 0px; }
ul:last-child, ol:last-child { margin-bottom: 0px; }
blockquote { border-left: 4px solid rgb(221, 221, 221); padding: 0px 15px; color: rgb(119, 119, 119); }
blockquote blockquote { padding-right: 0px; }
table { padding: 0px; word-break: initial; }
table tr { border-top: 1px solid rgb(204, 204, 204); margin: 0px; padding: 0px; }
table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
table tr th { font-weight: bold; border: 1px solid rgb(204, 204, 204); text-align: left; margin: 0px; padding: 6px 13px; }
table tr td { border: 1px solid rgb(204, 204, 204); text-align: left; margin: 0px; padding: 6px 13px; }
table tr th:first-child, table tr td:first-child { margin-top: 0px; }
table tr th:last-child, table tr td:last-child { margin-bottom: 0px; }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); }
.md-fences, code, tt { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); border-radius: 3px; font-family: Consolas, "Liberation Mono", Courier, monospace; padding: 2px 4px 0px; font-size: 0.9em; }
.md-fences { margin-bottom: 15px; margin-top: 15px; padding: 8px 1em 6px; }
.task-list { padding-left: 0px; }
.task-list-item { padding-left: 32px; }
.task-list-item input { top: 3px; left: 8px; }
@media screen and (min-width: 914px) {
}
@media print {
  html { font-size: 13px; }
  table, pre { break-inside: avoid; }
  pre { word-wrap: break-word; }
}
.md-fences { background-color: rgb(248, 248, 248); }
#write pre.md-meta-block { padding: 1rem; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border: 0px; border-radius: 3px; color: rgb(119, 119, 119); margin-top: 0px !important; }
.mathjax-block > .code-tooltip { bottom: 0.375rem; }
#write > h3.md-focus::before { left: -1.5625rem; top: 0.375rem; }
#write > h4.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h5.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h6.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
.md-image > .md-meta { border: 1px solid rgb(221, 221, 221); border-radius: 3px; font-family: Consolas, "Liberation Mono", Courier, monospace; padding: 2px 4px 0px; font-size: 0.9em; color: inherit; }
.md-tag { color: inherit; }
.md-toc { margin-top: 20px; padding-bottom: 20px; }
.sidebar-tabs { border-bottom: none; }
#typora-quick-open { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); }
#typora-quick-open-item { background-color: rgb(250, 250, 250); border-color: rgb(254, 254, 254) rgb(229, 229, 229) rgb(229, 229, 229) rgb(238, 238, 238); border-style: solid; border-width: 1px; }
#md-notification::before { top: 10px; }
.on-focus-mode blockquote { border-left-color: rgba(85, 85, 85, 0.12); }
header, .context-menu, .megamenu-content, footer { font-family: "Segoe UI", Arial, sans-serif; }
.file-node-content:hover .file-node-icon, .file-node-content:hover .file-node-open-state { visibility: visible; }
.mac-seamless-mode #typora-sidebar { background-color: var(--side-bar-bg-color); }






</style>
</head>
<body class='typora-export' >
<div  id='write'  class = 'is-node'><h1><a name='header-n0' class='md-header-anchor '></a>1. Stranger Hunt</h1><h2><a name='header-n2' class='md-header-anchor '></a>How to Use This Tutorial</h2><p>Welcome to the first tutorial for the course! </p><p>This document has two different kinds of content: general information and action steps.</p><p>General information appears in ordinary unlabeled text, like this sentence. This form of content will be used to introduce and explain new concepts.</p><p>For action steps, carry out the instructions and <strong>mark the checkbox!</strong>  This helps me figure out where you are in the process should you have questions, and hopefully will help you avoid skipping steps by accident.</p><p>Complete the assignment at the end of the tutorial and submit it electronically on Sakai using the Assignments tab.</p><h2><a name='header-n13' class='md-header-anchor '></a>Overview</h2><p>We will be using a framework for desktop and mobile browser games called Phaser (<a href='https://phaser.io' target='_blank' >https://phaser.io</a>).  In order to facilitate our interactions with this framework, Prof Mattingly created an Application Programming Interface (API) called sgc.js (stands for &quot;Simple Game Controller&quot;) that has a set of defined functions for interfacing with Phaser.  These functions mirror similar ones on other popular game engines such as Gamemaker. </p><p>Working from a virtual machine in the cloud (c9), we will create Javascript programs that run in a browser.  For example, our first game will be called Stranger Hunt, so we could create a Javascript file called strangerhunt.js to run it.  You will need to create a personal account for the Cloud9 virtual workspace (see below).</p><p>We provide (or you can write, if you wish) a simple hyper-text mark-up language (HTML) file that calls the phaser script, and then calls the sgc script, and finally our specific game script.</p><p>This sounds complicated, but in practice it amounts to writing some Javascript code in the C9 development environment, and viewing the output in a web browser.  The beauty of it is you can give anyone in the world with an internet connection the address of this webpage and they can use your application (i.e. play your game) on any platform with no additional software required.<sup><a href='#dfref-footnote-1' name='ref-footnote-1'>1</a></sup></p><h2><a name='header-n22' class='md-header-anchor '></a>Access the virtual workspace</h2><p>Cloud9 (c9) combines an online code editor with a workspace in the cloud.  It supports over 40 languages including Javascript, which we will be using.   You should have received an email inviting you to sign up for a c9 account.  If not, let me know and I will send you one.  You can sign up without an invitation, but accepting my invitation will keep you from having to give c9 a credit card number.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Go to <a href='https://c9.io/' target='_blank' >https://c9.io/</a> and provide:</p></li></ul><ul><li>an email address</li><li>a real name which will show up in your public user profile and public workspaces  (preferably your own, since an intended outcome of this course is to start building your digital resume)</li><li>a username</li></ul><p>On the &quot;tell us about yourself&quot; screen, choose &quot;Student,&quot; and &quot;Coursework&quot;</p><p>Once your account is created, open the csci110 workspace and create a clone with the name csci110.  It is important that you choose this name so that our customization works correctly.</p><p><img src='images/CloneWorkspace.PNG' alt='CloneWorkspace' /></p><p>Remove the -cloned from the Workspace name, add <code>-YOURNAME</code> and hit the &#39;Create Workspace&#39; button at the bottom.<img src='images/ChangeName.PNG' alt='ChangeName' /></p><h2><a name='header-n47' class='md-header-anchor '></a>Cast of Characters</h2><p>Our tutorials will be populated with characters from the Computational Fairy Tales kingdom created by Jeremy Kubica at <a href='http://computationaltales.blogspot.com/'>http://computationaltales.blogspot.com</a>. You are about to meet three of them.</p><p>Princess Ann is the central character of these tales. She is the daughter of King Fredrick and heir to the throne. She was tasked by the prophets to rescue the kingdom from the coming darkness. Unfortunately, the prophecy was vague about the details of the threat facing the kingdom. Thus, she is on a quest to determine what the threat is and how to stop it.</p><p>Marcus is a powerful wizard who is constantly looking for magical solutions to everyday problems. His approach to spells can teach you a lot about computational thinking and the art of computer programming.</p><p>The third character is a mysterious stranger in a dark cloak. Are his spells powerful enough to defeat Marcus? What does he have to do with the prophecy of coming darkness?</p><h2><a name='header-n56' class='md-header-anchor '></a>Game Design: Stranger Hunt</h2><p>You are about to build a simple game that will introduce you to the basics of running a javascript program from Cloud9.</p><p>In this game, our three characters will move about inside a room enclosed by stone walls.</p><p>As the player, you will score points by casting a spell on the mysterious stranger. (You will cast a spell with a mouse click.)</p><p>Be careful! By accidentally casting the spell on Marcus, you will lose points.</p><p>Worse still, casting the spell on Princess Ann, who has no magical protection, will end the game.</p><h2><a name='header-n67' class='md-header-anchor '></a>Creating a simple game (room with score) and running it in a browser window</h2><p>First we will create a valid but do-nothing game, just a background and a score board.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Open a web browser and go to <a href='https://c9.io' target='_blank' >https://c9.io</a></p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Login and open your csci110 personal workspace.</p></li></ul><p>In the left margin you will notice a &quot;Workspace&quot; tab that contains a directory tree of the tutorials.<br/></p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Expand the 1.strangerHunt folder by clicking on the arrow or double-clicking the folder.</p></li></ul><p>In the 1.strangerHunt folder you should see some .png files, a .html file, and a .js file.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Double click the StrangerHunt.js file and type this in the editor window</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 69px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">gameController</span>.<span class="cm-property">backgroundImageFile</span> <span class="cm-operator">=</span> <span class="cm-string">'floor.png'</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">gameController</span>.<span class="cm-property">showScore</span> <span class="cm-operator">=</span> <span class="cm-atom">true</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">gameController</span>.<span class="cm-property">startGame</span>();</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 69px;"></div><div class="CodeMirror-gutters" style="display: none; height: 99px;"></div></div></div></pre><p>Some explanations are in order.  <code>gameController</code> is an object defined in sgc that has several <em>properties</em> and <em>methods</em>.  These concepts are well illustrated with the <code>car</code> object in this <a href='https://www.w3schools.com/js/js_objects.asp'>w3schools tutorial</a>.  Unless you are already familiar with JavaScript objects and how to define and access them, please look at the tutorial before continuing.<br/></p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Read the w3schools tutorial about objects (<a href='https://www.w3schools.com/js/js_objects.asp' target='_blank' >https://www.w3schools.com/js/js_objects.asp</a>)</p></li></ul><p>All we are doing with these three lines is assigning values to two gameController properties (<code>backgroundImageFile</code> and <code>showScore</code>), and invoking (&#39;calling&#39;) a <code>gameController</code> method named<code>startGame()</code>.  From now on I will refer to these properties and methods without the <code>gameController</code> <em>identifier</em> (the name of the object), but remember to always include it in your code!</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Open the <code>strangerHunt.html</code> file and hit the green arrow to &#39;Run&#39; it.  Alternatively, you can right click the html file without opening it, and select &#39;Run&#39; from the right-click menu.  You will see a status window appear below the editor window, with a statement that looks like this:</p></li></ul><p><code>Starting Apache httpd, serving https://csci110-your_user_name.c9users.io/tutorials/1.strangerHunt/strangerHunt.html.</code></p><p>Select the link in your c9 window (hover or left click) then choose <code>Open</code> in the menu that appears.  A new window will open with the <code>floor.png</code> image and the score block.</p><p>Congratulations!  First steps are the hardest; now you know how to enter Javascript code and make your application run in any browser window. </p><p>Next we will add a character that just runs off the screen.</p><h2><a name='header-n110' class='md-header-anchor '></a>Creating a Sprite</h2><p>A sprite is a graphic image that can be drawn on the screen.</p><p>Windows and Microsoft Office both come with tools for creating sprites from scratch, by hand (Paint and Photo Editor), and there are several powerful and free image-editing programs such as GIMP and IrfanView. However, it is often more convenient to import existing image files.</p><p>There are several images already loaded in your StrangerHunt folder, but let&#39;s get some more. </p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Open Sakai, got to the Resources tab of your Power Up class site, and look for a folder called &quot;Sprites for Stranger Hunt&quot;.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Click on <code>marcus.png.</code>  In the new tab that appears, right click the image and select <code>Save As</code>.  Pick a location of your choosing (but don&#39;t forget where you put it!) </p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Near the left of the menu bar in the Cloud9 window, go to <code>File -&gt; Upload Local Files</code>, and drag your <code>marcus.png</code> file into the dialogue window or manually select the file location.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Repeat the steps above to get the Stranger sprite</p></li></ul><p>Before we use them in our web-page, we have to pre-load these images with the <code>preloadImages()</code> method.  For stylistic reasons, you may prefer to do all your preloading at the top of your JavaScript program.. </p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Type this line somewhere before the call to <code>startGame()</code>. </p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 23px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">gameController</span>.<span class="cm-property">preloadImages</span>(<span class="cm-string">'princess.png'</span>, <span class="cm-string">'marcus.png'</span>, <span class="cm-string">'stranger.png'</span>);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><p>We are going to have to put these sprites somewhere on the screen.  In order to do that we have to know something about the coordinate system we will be using.</p><h2><a name='header-n139' class='md-header-anchor '></a>Coordinate system</h2><p><img src='images/CoordinatePlane.gif' alt='CoordinatePlane' /></p><p>In order to describe the position of an object in two dimensions with coordinate pairs (x,y), we first have to define an <em>origin</em>.  The choice is an arbitrary <em>convention</em>, but everyone has to agree.  In the case of any type of window including your browser window, the convention is to use the <strong>upper left hand corner</strong> as the origin.  That means we will be working in Quadrant IV in the above picture to describe the location of any object in the window.  All we care about is the <em>magnitude</em> of x and y, since we know we are always staying in quadrant IV, so for simplicity, we use positive numbers for both x and y (this is another convention). Our default room size is 800 x 600 (meaning x can vary from 0 to 800, and y can vary from 0 to 600).   Our default grid size is the height and width of our character sprites, which is 48.  These dimensions are all in &#39;number of <em>pixels</em>&quot; and are stored in the <code>gameController</code> properties <code>displayWidth</code>, <code>displayHeight</code>, and <code>gridSize</code>.<br/></p><p>The <em>direction</em> is indicated with a counter-clockwise angle measurement from the positive x axis.  For example; straight up is 90 degrees, left is 180 degrees, down is 270 degrees and so on.</p><p>But what is a pixel?<br/></p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Read <a href='http://computationaltales.blogspot.com/2011/06/pixels-peacocks-and-governors-turtle.html'>Pixels, Peacocks, and the Governor&#39;s Turtle Fountain</a> at <a href='http://computationaltales.blogspot.com/p/posts-by-topic.html'>computationaltales.blogspot.com</a>.</p></li></ul><h2><a name='header-n152' class='md-header-anchor '></a>Creating an Object</h2><p>Javascript uses an &quot;object-oriented&quot; programming style. This means that the programming is organized by defining the behavior of various objects within the game.</p><p>Let&#39;s declare and create an object called <code>princess</code>, with the following <em>object literal</em>.<br/></p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Type this in your <code>strangerHunt.js</code> file, somewhere before the call to the <code>startGame()</code> method:</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 184px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">let</span> <span class="cm-def">princess</span> <span class="cm-operator">=</span> {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">name</span>: <span class="cm-string">'Princess Ann'</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">imageFile</span>: <span class="cm-string">'princess.png'</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">x</span>: <span class="cm-number">300</span>, <span class="cm-comment">// pixels to right of upper-left corner</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">y</span>: <span class="cm-number">300</span>, <span class="cm-comment">// pixels below upper-left corner</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">speed</span>: <span class="cm-number">200</span>, <span class="cm-comment">// pixels per second</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">angle</span>: <span class="cm-number">45</span>, &nbsp;<span class="cm-comment">// degrees counter-clockwise from horizontal ray pointing right</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 184px;"></div><div class="CodeMirror-gutters" style="display: none; height: 214px;"></div></div></div></pre><p><code>let</code> is a JavaScript keyword we can use to define variables.  Princess is an object with 6 properties.  We assign values to each property with the colon operator during creation.  Afterwards we can use the = operator (which means &quot;gets&quot; in the sense of &quot;is assigned the value of&quot;).  For example, if we want to change the value of the x property from 300 to 350, we can write <code>princess.x = 350</code>.</p><p>Notice the <code>//</code> marks with words after them?  These are comments which are ignored by the web browser, but serve to make our code more understandable to others and ourselves, which is particularly useful when something goes wrong!  Get into the habit of using comments; the bigger your programs get the more essential this becomes.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Read <a href='http://computationaltales.blogspot.com/2011/08/importance-of-good-comments-tale-of.html'>The Importance of Comments: A Baker&#39;s Tale</a> at <a href='http://computationaltales.blogspot.com/p/posts-by-topic.html'>computationaltales.blogspot.com</a>.</p></li></ul><p>Before we start the game, we need to tell the controller what objects are <em>in</em> the game.  This is done with the <code>addSprite()</code> method by making the princess object an <em>argument</em> of the method like this:</p><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 23px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">gameController</span>.<span class="cm-property">addSprite</span>(<span class="cm-variable">princess</span>);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Add the above method call to your js script, somewhere after princess has been defined, and before the call to <code>startGame()</code>. </p></li></ul><p>An <em>argument</em> of a method is the value passed to that method by putting it in parentheses after the method name.  For more about arguments see <a href='https://www.w3schools.com/js/js_function_parameters.asp' target='_blank' >https://www.w3schools.com/js/js_function_parameters.asp</a> .</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Using the previous steps as a guide, add <code>stranger</code> and <code>marcus</code> objects.  Give <code>marcus</code> a speed of 100, and <code>stranger</code> a speed of 300.  Give them x and y coordinates so that they are within the display area and not on top of each other.  They can all have different angle properties.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Test your game by running the <code>strangerHunt.html</code> script as before.</p></li></ul><h2><a name='header-n186' class='md-header-anchor '></a>Adding walls</h2><p>We have some vertical and horizontal wall sprites in our strangerHunt folder; let&#39;s add them to the window to make an enclosed room.  The top wall is easy:</p><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 161px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">let</span> <span class="cm-def">topWall</span> <span class="cm-operator">=</span> {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">imageFile</span>: <span class="cm-string">'horizontalWall.png'</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">x</span>: <span class="cm-number">0</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">y</span>: <span class="cm-number">0</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">immovable</span>: <span class="cm-atom">true</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">gameController</span>.<span class="cm-property">addSprite</span>(<span class="cm-variable">topWall</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 161px;"></div><div class="CodeMirror-gutters" style="display: none; height: 191px;"></div></div></div></pre><p>The position of a sprite is determined by the sprite&#39;s origin, which is (as you probably guessed) is the upper left corner of the sprite.  The question is, what x and y values should we use for the other walls?</p><p>To position the bottom wall, we might be tempted to set x to 0 and y to 600 (since we know the default room height is 600).  However this would put the upper left hand corner of the sprite at the bottom edge of the window so none of the sprite would be visible!  That means we have to back up by the width of the sprite, which is 48 pixels.  To make our code more understandable, if somewhat slower, we could set y to (600 - 48).  This would evaluate to 552 at run-time and keeps us from having to do the math. 😏 But what happens if we change the default room width?  Or if we decide we need 32-pixel wide sprites instead of 48?  We would have to change all of our wall x and y positions in the code manually, which is not very efficient.  Instead, let&#39;s use the sgc <code>gamecontroller</code> properties  <code>displayHeight</code>, <code>displayWidth</code>, and <code>gridSize</code> to automate this process for us.  For example, here is how we might declare the right-hand wall:</p><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 138px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">let</span> <span class="cm-def">rightWall</span> <span class="cm-operator">=</span> {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">imageFile</span>: <span class="cm-string">'verticalWall.png'</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">x</span>: <span class="cm-variable">gameController</span>.<span class="cm-property">displayWidth</span> <span class="cm-operator">-</span> <span class="cm-variable">gameController</span>.<span class="cm-property">gridSize</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">y</span>: <span class="cm-variable">gameController</span>.<span class="cm-property">gridSize</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">immovable</span>: <span class="cm-atom">true</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 168px;"></div></div></div></pre><p>The last property (<code>immovable</code>) is used by sgc&#39;s collision handler and we will see how that comes into play shortly.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Add the rightWall code to your strangerHunt file.  Also don&#39;t forget to add a method call to <code>addSprite(rightWall)</code>, and preload the verticalWall.png image with <code>preloadImages()</code>! HINT: just add <code>rightWall.png</code> to the list of arguments.</p></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Now do the same for the left and bottom walls</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Test your game.  You should have a room with 4 walls, and three characters flying straight through the walls. </p></li></ul><h2><a name='header-n208' class='md-header-anchor '></a>Arrays</h2><p>So far we have seen how objects are holders for properties and methods.  As you might remember from the example with the car object, these properties can be different <em>kinds</em> of things.  Arrays are holders of the <em>same</em> kind of things.  For example, an array can be a set of numbers, or a set of colors, but not a collection of numbers <em>and</em> colors!<br/></p><p>Most programming languages including javascript designate arrays with square brackets. For example, we could declare an array called &quot;allSprites&quot; and fill it with a set of sprites like this:</p><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 23px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">let</span> <span class="cm-def">allSprites</span> <span class="cm-operator">=</span> [<span class="cm-variable">princess</span>, <span class="cm-variable">marcus</span>, <span class="cm-variable">stranger</span>, <span class="cm-variable">topWall</span>, <span class="cm-variable">bottomWall</span>, <span class="cm-variable">leftWall</span>, <span class="cm-variable">rightWall</span>];</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Add this declaration statement to your code, after the associated objects have been created.</p></li></ul><p>We will need this array to define collision rules for our walls and characters.</p><h2><a name='header-n220' class='md-header-anchor '></a>Collisions</h2><p>The Simple Game Controller includes a method that will tell it which sprites it should do collision-checking for.  The default behavior is to bounce off, but you could have it do something else that you define with your own event <em>handler</em> method (like having it blow up!).  For now we just want the characters to bounce off the walls, and each other.  Here is the documentation of the collision method:</p><p><img src='images/SpriteCollisionRule.PNG' alt='SpriteCollisionRule' /></p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Add the following line to your code, after you declare the allSprites array, and before the call to <code>startGame()</code></p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 23px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">gameController</span>.<span class="cm-property">addSpriteCollisionRule</span>(<span class="cm-variable">allSprites</span>);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Run your program to make sure the <code>princess</code>, <code>marcus</code> and the <code>stranger</code> sprites bounce off the walls and each other, and that the walls do not move.</p></li></ul><h2><a name='header-n234' class='md-header-anchor '></a>Event handlers for mouse-click</h2><p>Remember way back in the game design section we said that the player scores points by &quot;casting a spell&quot; (i.e. clicking) on the mysterious stranger, and loses points by hitting Marcus.  Let&#39;s see if sgc has a sprite property or method we can use to interact with the mouse:</p><p><img src='images/SpriteProperties.PNG' alt='SpriteProperties' /></p><p>Yes!  It looks like <code>handleMouseClick</code> will do what we need.  Now we must define the method we want to invoke when a mouse button release on the sprite is detected.  By the way you can see the whole sgc reference <a href='https://dewv.github.io/csci110-retooled/sgc/GameController.html'>here.</a></p><p>The gameController property that holds the score is called <code>score</code> strangely enough.  To raise the score by 10 points we will use an assignment statement that will seem very odd to you if you know anything about math:</p><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 23px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">gameController</span>.<span class="cm-property">score</span> <span class="cm-operator">=</span> <span class="cm-variable">gameController</span>.<span class="cm-property">score</span> <span class="cm-operator">+</span> <span class="cm-number">10</span>;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><p>How is this possible?!  If that were a mathematical equation, there would be no solutions to it.  That is why we like to say the word &quot;gets&quot; instead of &quot;equals&quot; when we use the <code>=</code> sign operator.  This line says the score property &quot;gets&quot; (as in &quot;is assigned the value of&quot;) ten more than the current value of score.   You can read more about mathematical operators <a href=''>here</a>.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Add this function definition to your <code>stranger</code> object literal:</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 69px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">handleMouseClick</span>: <span class="cm-keyword">function</span>() {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">gameController</span>.<span class="cm-property">score</span> <span class="cm-operator">=</span> <span class="cm-variable">gameController</span>.<span class="cm-property">score</span> <span class="cm-operator">+</span> <span class="cm-number">10</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 69px;"></div><div class="CodeMirror-gutters" style="display: none; height: 99px;"></div></div></div></pre><p>(It needs to be inside the curly brackets that define the<code>stranger</code> object.)</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Using the previous step as a guide, add a Mouse click handler for Marcus, except <em>reduce</em> the score by 10.</p></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Add a mouse click handler for Princess Ann that ends the game using the<code>gameController.endGame()</code>method.</p></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Run your game and test that you can raise and lower the score, and end the game, by clicking on the appropriate sprite.</p></li></ul><p>Congratulations!  We almost have something that could be called a game, except it is not very interesting.  Let&#39;s add some spice to it by introducing random behavior: Instead of always starting the characters in the same place with the same initial direction, we will give them a random starting location somewhere in the room, and a random starting direction. In addition, to make things slightly more challenging for the player, we will have the stranger teleport to a different location and speed up every time he gets hit by a spell.  To do this we will use a <code>Math</code> method called <code>random()</code> and define some variables that limit the randomness to the confines of the room.</p><h2><a name='header-n267' class='md-header-anchor '></a>Defining room dimensions</h2><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Declare two variables that define the width and length of the room (not counting the walls).  It is good practice to declare your variables near the top the top of the JavaScript program since we want to declare them before they get used. </p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 46px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">let</span> <span class="cm-def">floorWidth</span> <span class="cm-operator">=</span> <span class="cm-variable">gameController</span>.<span class="cm-property">displayWidth</span> <span class="cm-operator">-</span> <span class="cm-number">3</span> <span class="cm-operator">*</span> <span class="cm-variable">gameController</span>.<span class="cm-property">gridSize</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">let</span> <span class="cm-def">floorHeight</span> <span class="cm-operator">=</span> <span class="cm-variable">gameController</span>.<span class="cm-property">displayHeight</span> <span class="cm-operator">-</span> <span class="cm-number">3</span> <span class="cm-operator">*</span> <span class="cm-variable">gameController</span>.<span class="cm-property">gridSize</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 76px;"></div></div></div></pre><p>We don&#39;t want the characters randomly appearing in the walls, so we just subtract the width of the wall on each side from the display dimensions, and subtract an additional sprite width to account for the sprite origin being in the upper left corner of the sprite.  For a coordinate to be <em>valid</em>, in the context of our game, it would have to lie within the confines of the display area, and also within the confines of the walls.<br/></p><h2><a name='header-n275' class='md-header-anchor '></a>The Math object</h2><p>The Math object is built into JavaScript and allows you to perform mathematical tasks.  One of these tasks is a random number generator.  The <code>Math.random()</code> method generates a number between 0 and 1 (including 0 but not 1).  To get a random (but valid) x coordinate, all we have to do is multiply this random number by the value of <code>floorWidth</code>, and add the width of a sprite. </p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Replace the x assignment of each character sprite with</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 23px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">x</span>: <span class="cm-variable">gameController</span>.<span class="cm-property">gridSize</span> <span class="cm-operator">+</span> <span class="cm-variable">Math</span>.<span class="cm-property">random</span>() <span class="cm-operator">*</span> <span class="cm-variable">floorWidth</span>,</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Using the previous step as a guide, modify the <em>y</em> assignment of each sprite.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Using the <code>Math.random()</code> method, replace the <code>angle</code> property assignment of each sprite with an expression that generates a random angle between 0 and 360.</p></li></ul><h2><a name='header-n290' class='md-header-anchor '></a>The <em>this</em> keyword</h2><p>In JavaScript,  <code>this</code> is the object that &quot;owns&quot; the method we are executing.  It refers to (or you could say, &quot;it&#39;s value is&quot;) the method&#39;s object.  Inside our event handler methods, we will use <code>this</code> to modify three properties of the object whose method it is.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Add this code to the function definition for the mouse-click handler of the stranger object</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 69px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">speed</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-property">speed</span> <span class="cm-operator">*</span> <span class="cm-number">1.1</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">x</span> <span class="cm-operator">=</span> <span class="cm-variable">gameController</span>.<span class="cm-property">gridSize</span> <span class="cm-operator">+</span> <span class="cm-variable">Math</span>.<span class="cm-property">random</span>() <span class="cm-operator">*</span> <span class="cm-variable">floorWidth</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">y</span> <span class="cm-operator">=</span> <span class="cm-variable">gameController</span>.<span class="cm-property">gridSize</span> <span class="cm-operator">+</span> <span class="cm-variable">Math</span>.<span class="cm-property">random</span>() <span class="cm-operator">*</span> <span class="cm-variable">floorHeight</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 69px;"></div><div class="CodeMirror-gutters" style="display: none; height: 99px;"></div></div></div></pre><p>In this case, <code>this</code> refers to <code>stranger</code>.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Using the previous steps as a guide, program the same behavior for Marcus.  Does anything have to change?</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Test your program and verify that:</p></li></ul><ul><li>The characters spawn in random locations and move in random directions</li><li>Clicking on Marcus or the Stranger results in the expected behavior (random teleport with speed increase)</li><li>Clicking on Princess Ann ends the game</li></ul><h2><a name='header-n317' class='md-header-anchor '></a>Wrapping up</h2><p>This completes the first game tutorial.  If there are any things that aren&#39;t working right in your program, please see one of the instructors before submitting your work.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Upload your completed strangerHunt.js file to the assignments tab of Sakai.  I will be running the game in <em>your</em> c9 workspace, so it is important that you not delete this file in c9 before it gets graded.</p></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Complete the quiz for Stranger Hunt in the Tests and Quizzes tab of Sakai. </p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Project work minimum requirements (upload to Assignments tab of Sakai)</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Make your own sprite using the graphics editor of your choice.<br/></p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Download a background image file, or create one of your own.  Resize as necessary to fit in the default window.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Write a JavaScript program that loads the background image and places your sprite on it.  You will need to create a new .js file to do this (right-click the 1.strangerHunt folder in the Workspace tab and select <code>New File</code>, then type <code>MyAwesomeGame.js</code> or whatever else you want to call it!<sup><a href='#dfref-footnote-2' name='ref-footnote-2'>2</a></sup> )</p></li></ul></li></ul><div class='footnotes-area'  ><hr/>
<div class='footnote-line'><span class='md-fn-count'>1</span> Some restrictions apply.  For example, your session has to be active in C9, and it will time out after a certain amount of inactivity.  But the code is portable - you could use a different hosting site if you wish, though usually they require payment to keep your content available.<a name='dfref-footnote-1' href='#ref-footnote-1' title='back to document' class='reversefootnote' >↩</a></div>
<div class='footnote-line'><span class='md-fn-count'>2</span> Provided it is a name you wouldn&#39;t be afraid to show your mother<a name='dfref-footnote-2' href='#ref-footnote-2' title='back to document' class='reversefootnote' >↩</a></div></div></div>
</body>
</html>