<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>3_CastleBreakIn.md</title><link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}.CodeMirror { height: auto; }
.CodeMirror-scroll { overflow-y: hidden; overflow-x: auto; }
.CodeMirror-lines { padding: 4px 0px; }
.CodeMirror pre { }
.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler { background-color: white; }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background-color: rgb(247, 247, 247); white-space: nowrap; }
.CodeMirror-linenumbers { }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.CodeMirror div.CodeMirror-cursor { border-left: 1px solid black; z-index: 3; }
.CodeMirror div.CodeMirror-secondarycursor { border-left: 1px solid silver; }
.CodeMirror.cm-keymap-fat-cursor div.CodeMirror-cursor { width: auto; border: 0px; background: rgb(119, 238, 119); z-index: 1; }
.CodeMirror div.CodeMirror-cursor.CodeMirror-overwrite { }
.cm-tab { display: inline-block; }
.cm-s-typora-default .cm-header, .cm-s-typora-default .cm-property { color: rgb(217, 79, 138); }
.cm-s-typora-default pre.cm-header1:not(.cm-atom) :not(.cm-overlay) { font-size: 2rem; line-height: 2rem; }
.cm-s-typora-default pre.cm-header2:not(.cm-atom) :not(.cm-overlay) { font-size: 1.4rem; line-height: 1.4rem; }
.cm-s-typora-default .cm-atom, .cm-s-typora-default .cm-number { color: rgb(149, 132, 134); }
.cm-s-typora-default .cm-table-row, .cm-s-typora-default .cm-block-start { font-family: monospace; }
.cm-s-typora-default .cm-comment, .cm-s-typora-default .cm-code { color: rgb(74, 90, 159); font-family: monospace; }
.cm-s-typora-default .cm-tag { color: rgb(169, 68, 66); }
.cm-s-typora-default .cm-string { color: rgb(126, 134, 169); }
.cm-s-typora-default .cm-link { color: rgb(196, 122, 15); text-decoration: underline; }
.cm-s-typora-default .cm-variable-2, .cm-s-typora-default .cm-variable-1 { color: inherit; }
.cm-s-typora-default .cm-overlay { font-family: monospace; }
.CodeMirror.cm-s-typora-default div.CodeMirror-cursor { border-left: 3px solid rgb(228, 98, 154); }
.cm-s-typora-default .CodeMirror-activeline-background { left: -60px; right: -30px; background: rgba(204, 204, 204, 0.2); }
.cm-s-typora-default .CodeMirror-gutters { border-right: none; background-color: inherit; }
.cm-s-typora-default .cm-trailing-space-new-line::after, .cm-startspace::after, .cm-starttab .cm-tab::after { content: "•"; position: absolute; left: 0px; opacity: 0; font-family: LetterGothicStd, monospace; }
.os-windows .cm-startspace::after, .os-windows .cm-starttab .cm-tab::after { left: -0.1em; }
.cm-starttab .cm-tab::after { content: " "; }
.cm-startspace, .cm-tab, .cm-starttab, .cm-trailing-space-a, .cm-trailing-space-b, .cm-trailing-space-new-line { font-family: monospace; position: relative; }
.cm-s-typora-default .cm-trailing-space-new-line::after { content: "↓"; opacity: 0.3; }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: black; }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-property { color: black; }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: blue; }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: bold; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: rgb(255, 0, 0); }
.cm-invalidchar { color: rgb(255, 0, 0); }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { margin-bottom: -30px; margin-right: -30px; padding-bottom: 30px; padding-right: 30px; height: 100%; outline: none; position: relative; box-sizing: content-box; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow-x: hidden; overflow-y: scroll; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow-y: hidden; overflow-x: scroll; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: none !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: transparent; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-widget { }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.CodeMirror-selected { background: rgb(217, 217, 217); }
.CodeMirror-focused .CodeMirror-selected { background: rgb(215, 212, 240); }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
.CodeMirror span { }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}
.CodeMirror-lint-markers { width: 16px; }
.CodeMirror-lint-tooltip { background-color: infobackground; border: 1px solid black; border-radius: 4px; color: infotext; font-family: monospace; overflow: hidden; padding: 2px 5px; position: fixed; white-space: pre-wrap; z-index: 10000; max-width: 600px; opacity: 0; transition: opacity 0.4s; font-size: 0.8em; }
.CodeMirror-lint-mark-error, .CodeMirror-lint-mark-warning { background-position: left bottom; background-repeat: repeat-x; }
.CodeMirror-lint-mark-error { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg=="); }
.CodeMirror-lint-marker-error, .CodeMirror-lint-marker-warning { background-position: center center; background-repeat: no-repeat; cursor: pointer; display: inline-block; height: 16px; width: 16px; vertical-align: middle; position: relative; }
.CodeMirror-lint-message-error, .CodeMirror-lint-message-warning { padding-left: 18px; background-position: left top; background-repeat: no-repeat; }
.CodeMirror-lint-marker-error, .CodeMirror-lint-message-error { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII="); }
.CodeMirror-lint-marker-warning, .CodeMirror-lint-message-warning { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII="); }
.CodeMirror-lint-marker-multiple { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC"); background-repeat: no-repeat; background-position: right bottom; width: 100%; height: 100%; }


:root { --bg-color: #ffffff; --text-color: #333333; --code-block-bg-color: inherit; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { background: rgb(181, 214, 252); text-shadow: none; }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; padding-bottom: 70px; white-space: pre-wrap; overflow-x: visible; contain: content; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
.typora-export #write { margin: 0px auto; }
#write > p:first-child, #write > ul:first-child, #write > ol:first-child, #write > pre:first-child, #write > blockquote:first-child, #write > div:first-child, #write > table:first-child { margin-top: 30px; }
#write li > table:first-child { margin-top: -20px; }
img { max-width: 100%; vertical-align: middle; }
input, button, select, textarea { color: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
::before, ::after, * { box-sizing: border-box; }
#write p, #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write div, #write pre { width: inherit; }
#write p, #write h1, #write h2, #write h3, #write h4, #write h5, #write h6 { position: relative; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
p { -webkit-margin-before: 1rem; -webkit-margin-after: 1rem; -webkit-margin-start: 0px; -webkit-margin-end: 0px; }
.typora-export p { white-space: normal; }
.mathjax-block { margin-top: 0px; margin-bottom: 0px; -webkit-margin-before: 0rem; -webkit-margin-after: 0rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: bold; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; margin: 4px 0px 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 80px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
pre { white-space: pre-wrap; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: var(--code-block-bg-color); position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
.md-fences .CodeMirror.CodeMirror-wrap { top: -1.6em; margin-bottom: -1.6em; }
.md-fences.mock-cm { white-space: pre-wrap; }
.show-fences-line-number .md-fences { padding-left: 0px; }
.show-fences-line-number .md-fences.mock-cm { padding-left: 40px; }
.footnotes { opacity: 0.8; font-size: 0.9rem; padding-top: 1em; padding-bottom: 1em; }
.footnotes + .footnotes { margin-top: -1em; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: transparent; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: normal; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li p, li .mathjax-block { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; }
@media print {
  html, body { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  h1, h2, h3, h4, h5, h6 { break-after: avoid-page; orphans: 2; }
  p { orphans: 4; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 1cm; padding-right: 1cm; padding-bottom: 0px; break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  @page { margin: 20mm 0mm; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 2.86rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p .md-image:only-child { display: inline-block; width: 100%; text-align: center; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.mathjax-block { white-space: pre; overflow: hidden; width: 100%; }
p + .mathjax-block { margin-top: -1.143rem; }
.mathjax-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: none; box-shadow: none; }
.task-list { list-style-type: none; }
.task-list-item { position: relative; padding-left: 1em; }
.task-list-item input { position: absolute; top: 0px; left: 0px; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc::after, .md-toc-content::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: bold; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
.md-tag { opacity: 0.5; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: monospace; }
code { text-align: left; }
h1 .md-tag, h2 .md-tag, h3 .md-tag, h4 .md-tag, h5 .md-tag, h6 .md-tag { font-weight: initial; opacity: 0.35; }
a.md-print-anchor { border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: none !important; background: transparent !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.mathjax-block .MathJax_SVG_Display { text-align: center; margin: 1em 0em; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: monospace; }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: normal; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; }


:root { --side-bar-bg-color: #fafafa; --control-text-color: #777; }
@font-face { font-family: "Open Sans"; font-style: normal; font-weight: normal; src: local("Open Sans Regular"), url("./github/400.woff") format("woff"); }
@font-face { font-family: "Open Sans"; font-style: italic; font-weight: normal; src: local("Open Sans Italic"), url("./github/400i.woff") format("woff"); }
@font-face { font-family: "Open Sans"; font-style: normal; font-weight: bold; src: local("Open Sans Bold"), url("./github/700.woff") format("woff"); }
@font-face { font-family: "Open Sans"; font-style: italic; font-weight: bold; src: local("Open Sans Bold Italic"), url("./github/700i.woff") format("woff"); }
html { font-size: 16px; }
body { font-family: "Open Sans", "Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif; color: rgb(51, 51, 51); line-height: 1.6; }
#write { max-width: 860px; margin: 0px auto; padding: 20px 30px 100px; }
#write > ul:first-child, #write > ol:first-child { margin-top: 30px; }
body > :first-child { margin-top: 0px !important; }
body > :last-child { margin-bottom: 0px !important; }
a { color: rgb(65, 131, 196); }
h1, h2, h3, h4, h5, h6 { position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text; }
h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor { text-decoration: none; }
h1 tt, h1 code { font-size: inherit; }
h2 tt, h2 code { font-size: inherit; }
h3 tt, h3 code { font-size: inherit; }
h4 tt, h4 code { font-size: inherit; }
h5 tt, h5 code { font-size: inherit; }
h6 tt, h6 code { font-size: inherit; }
h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
h3 { font-size: 1.5em; line-height: 1.43; }
h4 { font-size: 1.25em; }
h5 { font-size: 1em; }
h6 { font-size: 1em; color: rgb(119, 119, 119); }
p, blockquote, ul, ol, dl, table { margin: 0.8em 0px; }
li > ol, li > ul { margin: 0px; }
hr { height: 4px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border-width: 0px 0px 1px; border-style: none none solid; border-top-color: initial; border-right-color: initial; border-left-color: initial; border-image: initial; overflow: hidden; box-sizing: content-box; border-bottom-color: rgb(221, 221, 221); }
body > h2:first-child { margin-top: 0px; padding-top: 0px; }
body > h1:first-child { margin-top: 0px; padding-top: 0px; }
body > h1:first-child + h2 { margin-top: 0px; padding-top: 0px; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child { margin-top: 0px; padding-top: 0px; }
a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 { margin-top: 0px; padding-top: 0px; }
h1 p, h2 p, h3 p, h4 p, h5 p, h6 p { margin-top: 0px; }
li p.first { display: inline-block; }
ul, ol { padding-left: 30px; }
ul:first-child, ol:first-child { margin-top: 0px; }
ul:last-child, ol:last-child { margin-bottom: 0px; }
blockquote { border-left: 4px solid rgb(221, 221, 221); padding: 0px 15px; color: rgb(119, 119, 119); }
blockquote blockquote { padding-right: 0px; }
table { padding: 0px; word-break: initial; }
table tr { border-top: 1px solid rgb(204, 204, 204); margin: 0px; padding: 0px; }
table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
table tr th { font-weight: bold; border: 1px solid rgb(204, 204, 204); text-align: left; margin: 0px; padding: 6px 13px; }
table tr td { border: 1px solid rgb(204, 204, 204); text-align: left; margin: 0px; padding: 6px 13px; }
table tr th:first-child, table tr td:first-child { margin-top: 0px; }
table tr th:last-child, table tr td:last-child { margin-bottom: 0px; }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); }
.md-fences, code, tt { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); border-radius: 3px; font-family: Consolas, "Liberation Mono", Courier, monospace; padding: 2px 4px 0px; font-size: 0.9em; }
.md-fences { margin-bottom: 15px; margin-top: 15px; padding: 8px 1em 6px; }
.task-list { padding-left: 0px; }
.task-list-item { padding-left: 32px; }
.task-list-item input { top: 3px; left: 8px; }
@media screen and (min-width: 914px) {
}
@media print {
  html { font-size: 13px; }
  table, pre { break-inside: avoid; }
  pre { word-wrap: break-word; }
}
.md-fences { background-color: rgb(248, 248, 248); }
#write pre.md-meta-block { padding: 1rem; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border: 0px; border-radius: 3px; color: rgb(119, 119, 119); margin-top: 0px !important; }
.mathjax-block > .code-tooltip { bottom: 0.375rem; }
#write > h3.md-focus::before { left: -1.5625rem; top: 0.375rem; }
#write > h4.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h5.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h6.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
.md-image > .md-meta { border: 1px solid rgb(221, 221, 221); border-radius: 3px; font-family: Consolas, "Liberation Mono", Courier, monospace; padding: 2px 4px 0px; font-size: 0.9em; color: inherit; }
.md-tag { color: inherit; }
.md-toc { margin-top: 20px; padding-bottom: 20px; }
.sidebar-tabs { border-bottom: none; }
#typora-quick-open { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); }
#typora-quick-open-item { background-color: rgb(250, 250, 250); border-color: rgb(254, 254, 254) rgb(229, 229, 229) rgb(229, 229, 229) rgb(238, 238, 238); border-style: solid; border-width: 1px; }
#md-notification::before { top: 10px; }
.on-focus-mode blockquote { border-left-color: rgba(85, 85, 85, 0.12); }
header, .context-menu, .megamenu-content, footer { font-family: "Segoe UI", Arial, sans-serif; }
.file-node-content:hover .file-node-icon, .file-node-content:hover .file-node-open-state { visibility: visible; }
.mac-seamless-mode #typora-sidebar { background-color: var(--side-bar-bg-color); }
.md-lang { color: rgb(180, 101, 77); }






</style>
</head>
<body class='typora-export' >
<div  id='write'  class = 'is-node'><h1><a name='header-n0' class='md-header-anchor '></a>Castle Break-In, Part 1</h1><p>After his duel with Marcus, the mysterious stranger flees. Pursued by Princess Ann, he hides in a spooky castle and seals the entrance with magic.</p><p>The magic stones block Ann&#39;s path, but a sharp impact will destroy them. Thinking quickly, Ann grabs her souvenir East Alexandria soccer ball. Using the incredible header skills she learned as captain of the royal soccer team, she attempts to make her way inside the castle&#39;s walls.</p><p>Bring the third tutorial folder into your workspace by opening up a terminal window, changing your tutorials directory with <code>cd tutorials</code> and pulling the files from the git repository with <code>git pull</code>.   You should see some image files for a castle, a wall, a ball sheet, a princess sheet, and some blocks.  There is also a <code>grass.png</code> file we will be using for the background.  You will be writing a new javascript program and storing it in a file called <code>castleBreakIn.js</code>, which you can create by right-clicking in the directory and selecting <code>new file</code>.</p><h2><a name='header-n8' class='md-header-anchor '></a>Setting up the game play area</h2><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Create the following objects: <code>castle</code>, <code>leftWall</code>, and <code>rightWall</code>.  Give them appropriate names and image files.  Set their <code>immovable</code> property to <code>true</code>.<br/></p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Place the origin of the <code>castle</code> image in the upper left corner, so that it spans the whole window.  The castle image is 800 by 200 pixels.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Place <code>leftWall</code> and <code>rightWall</code> so that they run along the left and right edges of the room, touching the bottom of the castle.  (Hint: use <code>gameController.displayWidth</code> and <code>gameController.gridSize</code> to your advantage)</p></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Preload the castle and wall images</p></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Add the objects to the game using the <code>gameController.addSprite()</code> method</p></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Set <code>gameController</code>&#39;s <code>backgroundImageFile</code> property to <code>&#39;grass.png&#39;</code></p></li></ul><p>You should now have a grassy game play area that is enclosed by solid objects on all sides, except for the bottom.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Run the game to check the layout.</p></li></ul><h2><a name='header-n37' class='md-header-anchor '></a>Adding the player character</h2><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Create an object named <code>princess</code>. Make her immovable.  Give her an appropriate name and image <em>sheet</em>.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Select her x and y coordinates so that she is horizontally centered in the play area, with her feet touching the bottom edge of the window.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Set her <code>collisionArea</code> property as shown below</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">collisionArea</span>: { <span class="cm-variable">width</span>: <span class="cm-variable">gameController</span>.<span class="cm-property">gridSize</span> <span class="cm-operator">/</span> <span class="cm-number">3</span>, <span class="cm-variable">height</span>: <span class="cm-number">1</span>, <span class="cm-variable">xOffset</span>: &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">gameController</span>.<span class="cm-property">gridSize</span> <span class="cm-operator">/</span> <span class="cm-number">3</span> }</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 76px;"></div></div></div></pre><p>This has the effect of limiting the collision area of the princess to a one-pixel wide bar that spans the top of her head.  If this doesn&#39;t make sense, see Wizard&#39;s Duel Part 4: &quot;Hitting a Target&quot; for a refresher on <code>collisionArea</code> properties.</p><p>The princess will move left and right using arrow keys. </p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Program the navigation using Marcus&#39;s navigation from Wizards&#39; Duel as a model. You will need <code>handleLeftArrowKey</code> and <code>handleRightArrowKey</code> functions inside the <code>princess</code> object literal.<br/></p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Outside the object literal, add the princess object to the game and define walking animations for left and right.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Add a call to <code>gameController.startGame()</code>.</p></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Run the game. Test that the arrow keys move the princess left and right, with appropriate animation. She should stop and face forward when no key is pressed.</p></li></ul><p>At this point, the princess can walk through the walls and off screen. That probably shouldn&#39;t be allowed.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Implement your fix, and test it. Be sure that it is working correctly before you move on.</p></li></ul><h2><a name='header-n73' class='md-header-anchor '></a>Adding the soccer ball</h2><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Create an object named <code>ball</code>.  Give it an appropriate name and image <em>sheet</em>. Preload the image sheet as usual.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Set its x and y coordinates so that it is horizontally and vertically centered in the window.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Set its <code>collisionArea</code> property as follows:</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">collisionArea</span>: { <span class="cm-variable">width</span>: <span class="cm-number">30</span>, <span class="cm-variable">height</span>: <span class="cm-number">30</span>, <span class="cm-variable">xOffset</span>: <span class="cm-number">9</span>, <span class="cm-variable">yOffset</span>: <span class="cm-number">9</span> },</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Set its <code>angle</code> property to <code>50 + Math.random() * 80</code>.</p></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Set its speed to 200.</p></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Set gravity to 15.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Outside the object literal, add the sprite to the game, and define an animation that plays all 12 frames of the image sheet.  Call it &#39;spin&#39;.</p></li></ul><p>This will make the ball move at an angle of 500 to 130 degrees, or in a generally &quot;upward&quot; direction. The ball&#39;s speed is set to 200 pixels per second. However, the <code>gravity</code> property&#39;s value means that, for each second, the &quot;downward&quot; component of the ball&#39;s speed will be increased by 15 pixels per second. This creates a gravitational effect that slows the ball as it moves upward, then accelerates it as it falls downward.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Play the &#39;spin&#39; animation for the ball, and set it to run continuously.  One way to do this is to put the <code>playAnimation</code> command inside the <code>ball</code>&#39;s  <code>handleGameLoop</code> function, and then delete the function, like we did for the <code>Stranger</code>&#39;s down animation in the previous tutorial:</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">handleGameLoop</span>: <span class="cm-keyword">function</span>() {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">playAnimation</span>(<span class="cm-string">'spin'</span>, <span class="cm-atom">true</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">delete</span> <span class="cm-keyword">this</span>.<span class="cm-property">handleGameLoop</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">},</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 92px;"></div><div class="CodeMirror-gutters" style="display: none; height: 122px;"></div></div></div></pre><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Add collision rules for the <code>ball</code>, <code>castle</code>, <code>leftWall</code> and <code>rightWall</code> objects using <code>gameController</code>&#39;s <code>addSpriteCollisionRule()</code> method with the default collision handler (i.e. bounce).  You can define an array with these object names, and use the array as an argument for the collision rule method like we did in the previous tutorial, or you can just put an anonymous array in the argument list like this:</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">gameController</span>.<span class="cm-property">addSpriteCollisionRule</span>([<span class="cm-variable">ball</span>, <span class="cm-variable">castle</span>, <span class="cm-variable">leftWall</span>, <span class="cm-variable">rightWall</span>]);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><p>Remember that this line needs to be executed <em>after</em> the associated sprites have been added to the game, so place it accordingly.</p><p>We also need a collision rule for the princess and the ball, but we want finer control of the bounce direction.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Inside the <code>princess</code> object literal, define a collision handling function called <code>header</code> that accepts two arguments called <code>thePrincess</code> and <code>theBall</code> and modifies the angle of <code>theBall</code> according to the following formula:</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">theBall</span>.<span class="cm-property">angle</span> <span class="cm-operator">=</span> <span class="cm-number">90</span> <span class="cm-operator">+</span> <span class="cm-number">2</span> <span class="cm-operator">*</span> (<span class="cm-variable">thePrincess</span>.<span class="cm-property">x</span> <span class="cm-operator">-</span> <span class="cm-variable">theBall</span>.<span class="cm-property">x</span>);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><p>This expression is a formula for calculating the ball&#39;s bounce angle. The subexpression in parentheses computes the horizontal distance between the ball and the princess. If they are perfectly aligned, the difference is zero, so the bounce angle is 90 degrees: straight up. If the difference is not zero, it will adjust the base angle of 90 to reflect the horizontal offset of the collision.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Call the <code>addSpriteCollisionRule</code> method  to invoke the <code>header</code> function and in such a way that <code>thePrincess</code> corresponds to the princess, and <code>theBall</code> corresponds to the ball like this:</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">gameController</span>.<span class="cm-property">addSpriteCollisionRule</span>([<span class="cm-variable">princess</span>, <span class="cm-variable">ball</span>], <span class="cm-variable">princess</span>.<span class="cm-property">header</span>);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Inside the <code>ball</code>&#39;s object literal, add a <code>handleBoundaryContact</code> function that ends the game if the ball leaves play.  HINT:  use <code>gameController.endGame()</code> method inside your function definition.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Run the game to test your work so far.</p></li></ul><p>The princess should now be able to play a game of &quot;keepy uppy&quot; by heading the ball each time that gravity brings it to her level. The ball should bounce against the walls and castle.</p><p>When the princess misses the ball, it will leave the room at the bottom and end the game. We still need to add some magic blocks for her to destroy with the soccer ball, and it would be nice if she got a second or third chance in case she misses a header.  We will add the &quot;second and third chances&quot; in next part. </p><h2><a name='header-n139' class='md-header-anchor '></a>Wrapping Up</h2><p>Use Question Set 5 to review and evaluate your mastery of new concepts.</p><h1><a name='header-n142' class='md-header-anchor '></a>Castle Break-In, Part 2</h1><h2><a name='header-n143' class='md-header-anchor '></a>Define a Ball class</h2><p>In the last section, you created a <code>ball</code> object using an object literal.  However, to give Ann a second or third chance if she misses a header, we will have to add more <code>ball</code> objects just like the first one!  By now you know how this is done:  we create a template (i.e. a <em>class</em>) for these objects and whenever we need a new one we just create it with the command <code>new Ball();</code>.  Note we are sticking with our convention of using PascalCase for our classes, so we capitalize the <code>B</code>.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p><strong>Replace</strong> your ball object literal with a <code>Ball</code> class definition that will do everything your object literal did.  This includes the <code>handleGameLoop()</code> and <code>handleBoundaryContact()</code> methods, which are the only things that will go outside your class constructor definition.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Move your <code>addSprite</code>, <code>defineAnimation</code>, and both <code>addSpriteCollisionRule</code> statements inside the constructor of the class definition.   Remember to use the <code>this</code> identifier instead of <code>ball</code>, because there is no guarantee that every instance of the class will have the name <code>ball</code> <em>(sneak preview: in fact, we&#39;re not going to give them a name at all!)</em></p></li></ul><p>The last bullet highlights one of the reasons that makes it worthwhile to  define a class for any complex object you will be using:  all the associated actions can be wrapped in the class definition instead of strewn about all over your code, making it easier to read and trouble-shoot.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Now create an anonymous instance of this class before you start the game. <em>(Hint: see the last sentence of the first paragraph)</em>.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Run your game to make sure it works as before.</p></li></ul><h2><a name='header-n162' class='md-header-anchor '></a>Multiple lives</h2><p>In this game, the player will have three lives. One life is lost each time the soccer ball escapes the room. When all lives are lost, the game ends.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Inside the <code>princess</code> object literal, create a custom variable called <code>lives</code> and set its value equal to 3.</p></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Inside the <code>princess</code> object literal, create a <code>handleGameLoop</code> function that defines a window where we will display Anne&#39;s remaining lives and then deletes itself like this:</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">handleGameLoop</span>: <span class="cm-keyword">function</span>() {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// Set up a text area to display the number of lives remaining.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">livesDisplay</span> <span class="cm-operator">=</span> <span class="cm-variable">gameController</span>.<span class="cm-property">createTextArea</span>(<span class="cm-variable">gameController</span>.<span class="cm-property">displayWidth</span> <span class="cm-operator">-</span> <span class="cm-number">3</span> <span class="cm-operator">*</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">gameController</span>.<span class="cm-property">gridSize</span>, <span class="cm-number">20</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">delete</span> <span class="cm-keyword">this</span>.<span class="cm-property">handleGameLoop</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">},</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 168px;"></div></div></div></pre><p>We have used this self-deleting <code>HandleGameLoop()</code> method several times now in object literals for code that we want to execute only when the game first starts.  From now on I will just say something like &quot;in the <code>princess</code> object, call the <code>createTextArea()</code> method when the game first starts.&quot;</p><p>You can read more about the <code>createTextArea()</code> method in the <code>GameController</code> help documentation if you wish, but you can probably guess that the first argument is the x coordinate of the upper left corner of the window, which is 3 <code>gridSize</code>&#39;s back from the right edge of the display, and the second is the y coordinate, which in this case is 20 pixels from the top of the screen.</p><p>In order to write something to this text area, we use the <code>gameController</code> method <code>writeToTextArea()</code>.  We will be doing this several times for different reasons, and it is good programming practice to put code we intend to reuse several times in a function definition.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Inside the <code>princess</code> object literal, define a function called <code>updateLivesDisplay</code> that executes the following line of code:</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">gameController</span>.<span class="cm-property">writeToTextArea</span>(<span class="cm-keyword">this</span>.<span class="cm-property">livesDisplay</span>, <span class="cm-string">'Lives: '</span> <span class="cm-operator">+</span> <span class="cm-keyword">this</span>.<span class="cm-property">lives</span>);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Inside the <code>princess</code> object literal, call your newly defined<code>updateLivesDisplay()</code> function <em>when the game first starts</em> (but after you define the associated text area). </p></li></ul><p>If you added the line <code>this.updateLivesDisplay();</code>to the <code>princess</code>&#39;s  self-deleting <code>handleGameLoop</code> method --congratulations!  If not, do so now.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Inside the <code>princess</code> object literal, define a function called <code>loseALife</code> that does the following:</p></li></ul><ul><li>Decrements the value of <code>this.lives</code> by 1.</li><li>Calls the <code>this.updateLivesDisplay()</code> method.</li><li>Checks to see if <code>this.lives</code> is greater than zero.  If it is, create an new anonymous instance of the <code>Ball</code> class.  If not, end the game with the following message: <code>(&#39;The mysterious stranger has escaped\nPrincess Ann for now!\n\nBetter luck next time.&#39;</code></li></ul><p>If the last line looks familiar, it is because we used to handle this in the <code>ball</code> object, back when there was only one ball.  We will have to modify the <code>Ball</code> class definition now.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>In the <code>Ball</code> class definition, change your <code>handleBoundaryContact()</code> method so that it does (only) the following:</p></li></ul><ul><li>Calls <code>gameController.deleteSprite(this);</code> to delete the ball in play.</li><li>Calls <code>princess.loseALife();</code></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Run your game and verify that the lives are being properly updated and the game doesn&#39;t end until the princess misses three headers.</p></li></ul><p>We will add some blocks to the game in part 3.</p><h2><a name='header-n224' class='md-header-anchor '></a>Wrapping up</h2><p>If you haven&#39;t done so already, please read <a href='http://computationaltales.blogspot.com/2011/06/variable-initialization-in-busy.html'>Variable Initialization in Busy Kitchens</a>.  Also, since we will be using inheritance in the next section, it might be useful to read <a href='http://computationaltales.blogspot.com/2012/01/classes-inheritance-and-three-little.html'>Classes, Inheritance, and the Three Little Pigs</a>.</p><h1><a name='header-n227' class='md-header-anchor '></a>Castle Break-In, Part 3</h1><h2><a name='header-n228' class='md-header-anchor '></a>The <code>Block</code> <em>parent</em> class</h2><p>Next, you will create the magic stone blocks that the stranger has placed in Princess Ann&#39;s way.  We will make several of these, so it is best to make a class definition for them.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Define a class called <code>Block</code> .<br/></p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Define a constructor method of this class that accepts two arguments (x and y) and does the following upon creation of each instance of the class:</p></li></ul><ul><li>Sets its x and y properties equal to the values in the passed arguments (i.e. <code>this.x = x;</code> etc.)</li><li>Gives it a name.</li><li>Gives it the <code>block1.png</code> image file</li><li>Makes it immovable.</li><li>Adds the sprite to the game.</li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Outside the class definition, create an anonymous instance of <code>Block</code> located at (x,y) = (400, 200) before you start the game like this:</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre>x</pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">new</span> <span class="cm-variable">Block</span>(<span class="cm-number">400</span>, <span class="cm-number">200</span>);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Run your game and make sure you have a block in front of the castle gate.  It doesn&#39;t do anything ... yet.<br/></p></li></ul><h2><a name='header-n265' class='md-header-anchor '></a><code>For</code> loops</h2><p>Let&#39;s say we want to create many of these blocks to make the game more interesting.  We could write a series of <code>new Block()</code> statements but there is a more efficient and elegant way: with a loop!  This is probably tied for <strong>the</strong> most powerful programing technique you will learn (along with conditional statements)</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Read <a href='http://computationaltales.blogspot.com/2011/03/loops-and-making-horseshoe.html'>Loops and Making Horseshoes</a></p></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Read <a href=''>W3Schools article on <code>for</code> syntax in javascript</a></p></li></ul><p>Now let&#39;s use a <code>for</code> loop to automate the process of adding a row of blocks.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Outside of your class definitions, add the following <code>for</code> loop:</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-keyword">let</span> <span class="cm-def">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-number">5</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">new</span> <span class="cm-variable">Block</span>(<span class="cm-number">200</span> <span class="cm-operator">+</span> <span class="cm-variable">i</span> <span class="cm-operator">*</span> <span class="cm-variable">gameController</span>.<span class="cm-property">gridSize</span>, <span class="cm-number">200</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 69px;"></div><div class="CodeMirror-gutters" style="display: none; height: 99px;"></div></div></div></pre><p>The <code>i++</code> in statement 3 is a short-hand way of writing</p><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-variable">i</span> <span class="cm-operator">+</span> <span class="cm-number">1</span>; &nbsp; &nbsp; <span class="cm-comment">// increment the value of i by 1</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><p>The <code>new Block()</code> command is executed 5 times:</p><ul><li>One the first run through the loop, 		i = 0 and the <code>x</code> position of the block is 200 + 0(48) = 200</li><li>One the second run through the loop,    i = 1 and the <code>x</code> position of the block is 200 + 1(48) = 248</li><li>One the third run through the loop,        i = 2 and the <code>x</code> position of the block is 200 + 2(48) = 296</li><li>One the fourth run through the loop,     i = 3 and the <code>x</code> position of the block is 200 + 3(48) = 344</li><li>One the fifth run through the loop,         i = 4 and the <code>x</code> position of the block is 200 + 4(48) = 392</li><li>One the sixth attempt,                               i = 5 and conditional in statement 2 fails so the loop terminates</li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Run your game and test to see if you have a row of 5 blocks running in front of the castle gate.</p></li></ul><h2><a name='header-n311' class='md-header-anchor '></a>Winning the game</h2><p>The object of our game will be to eliminate all the blocks of a certain kind, not just the ones in front of the gate.  In order to know if we have eliminated all of them, we have to count how many we have made, and subtract one from this number every time a block is smashed.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Outside all of the class definitions, create a variable called <code>Block.blocksToDestroy</code> and set its value to zero.  Make sure you do this before the <code>for</code> loop that generates all the blocks!</p></li></ul><p>Note that the identifier <code>Block</code> refers to a <em>class</em>.  We want every instance of the class to modify this variable when the instance is created.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>In the constructor definition for class <code>Block</code>, increment the value of <code>Block.blocksToDestroy</code> by 1. </p></li></ul><p>Now let&#39;s define a collision handling method for the <code>Block</code> class.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>In the <code>Block</code> class definition, outside the constructor, define a new method called <code>handleBallHit()</code> that does the following:</p></li></ul><ul><li>Deletes <em>this</em> sprite</li><li>Decrements the value of <code>Block.blocksToDestroy</code> by 1</li><li>Checks to see if <code>Block.blocksToDestroy</code> is equal to zero.  If it is, end the game with the following message:</li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">'Congratulations!\n\nPrincess Ann can continue her pursuit\nof the mysterious stranger!'</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Outside the class definitions, add a class collision rule between for the ball and the block that calls the <code>handleBallHit()</code> method you just defined, like this:</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">gameController</span>.<span class="cm-property">addClassCollisionRule</span>([<span class="cm-variable">Ball</span>, <span class="cm-variable">Block</span>], <span class="cm-keyword">function</span>(<span class="cm-def">theBall</span>, <span class="cm-def">theBlock</span>) { <span class="cm-variable-2">theBlock</span>.<span class="cm-property">handleBallHit</span>(); });</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 76px;"></div></div></div></pre><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Run the game and test that you get the congratulatory message after destroying all the blocks.  (you may wish to decrease the number of blocks for testing purposes).  You should have the beginning of a &quot;breakout&quot; style game, where the ball destroys the blocks that it hits, but also bounces from the impact.</p></li></ul><h2><a name='header-n350' class='md-header-anchor '></a>Using derived classes (children) to add more blocks</h2><p>Before you put very many blocks into the room, you will add some variety. There will be two more kinds of block.  They will be <em>mostly</em> like the first block but different in minor ways (like the houses in the 3 little pigs example).  An elegant way to implement this is with <em>children</em> of the parent class.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Define an <code>ExtraLifeBlock</code> class which are derived from the <code>Block</code> class like this:</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span> <span class="cm-def">ExtraLifeBlock</span> <span class="cm-keyword">extends</span> <span class="cm-variable">Block</span> {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">constructor</span>(<span class="cm-def">x</span>, <span class="cm-def">y</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">super</span>(<span class="cm-variable-2">x</span>, <span class="cm-variable-2">y</span>); <span class="cm-comment">// call superclass constructor</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 145px;"></div></div></div></pre><p> The <code>extends</code> keyword is used in class declarations or class expressions to create a class which is a child of another class.</p><p>The <code>super</code>keyword is used to call functions on an object&#39;s parent.  When used in a constructor, it calls the <em>parent&#39;s</em> class constructor.  Note:  in derived classes you must call <code>super()</code> before you can use <code>this</code> in a constructor definition.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Create an instance of the <code>ExtraLifeBlock</code> class at (x,y) = (200, 250).<br/></p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Define another child of the <code>Block</code> class called <code>ExtraBallBlock</code> which is just like the first one.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Create an instance of the <code>ExtraBallBlock</code> class at (x,y) = (300, 250). </p></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Run your game and observe what happens when the ball strikes an instance of <code>ExtraLifeBlock</code> or <code>ExtraBallBlock</code>.</p></li></ul><p>Did you notice that they behave exactly like the parent <code>Block</code> instances -- and have all the properties and methods of <code>Block</code> like the image file  and the <code>handleBallHit()</code> collision handler?  And we did this without repeating any code!<br/></p><h2><a name='header-n378' class='md-header-anchor '></a>Inheriting behavior</h2><p>Even though there is no programming for <code>ExtraLifeBlock</code>and <code>ExtraBallBlock</code>, the associated objects behave just like <code>Block</code> objects.</p><p>Why? A child (<code>ExtraLifeBlock</code> or <code>ExtraBallBlock</code>) &quot;inherits&quot; behavior from its parent (<code>Block</code>). The destroy-with-explosion behavior is defined in the parent, but the child inherits this and behaves in the same way. (In programming, children inherit from parents, but parents never inherit from children.)</p><p>Also because of the parent/child relationship, an <code>ExtraLifeBlock</code> instance is a special kind of <code>Block</code> instance. And an <code>ExtraBallBlock</code> instance is a special kind of <code>Block</code> instance. Our class collision rule defines behavior that causes it to bounce when it collides with an instance of <code>Block</code>. This will also apply when the ball collides with instances of <code>ExtraLifeBlock</code> or <code>ExtraBallBlock</code>, because these are a kind of block.</p><p>Parents help you to follow an important programming guideline: &quot;Don&#39;t repeat yourself.&quot; Using inheritance, you do not have to define the same actions in all three types of blocks. You also don&#39;t need to do more collision rule programming for each type of block object.</p><h2><a name='header-n387' class='md-header-anchor '></a><em>Overriding</em> the parent&#39;s behavior</h2><p>When a child matures, some of his or her behavior is different from the parents&#39;.</p><p>The same is true with object programming. There is no sense in creating a child object that behaves exactly like the parent.</p><p>Right now, all three types of block have identical behavior and appearance. Let&#39;s start by defining some new properties and behavior for <code>ExtraLifeBlock</code>. The ball should still bounce against it. However, it will not be destroyed; it will remain in place. Each time the ball strikes it, the player earns an additional life.  And to distinguish it from the parent block, let&#39;s give it a different image file.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>In the constructor definition for the <code>ExtraLifeBlock</code> class, set the image file to <code>&#39;block2.png&#39;</code>.  Don&#39;t forget to preload this image.</p></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>In the constructor definition for the <code>ExtraLifeBlock</code> class, decrement the value of <code>Block.blocksToDestroy</code> by 1.  We do this because the blocks are indestructible, so we don&#39;t want them to count against us to meet the win condition.</p></li></ul><p>Each <code>ExtraLifeBlock</code> instance is already inheriting a collision handler called <code>handleBallHit()</code> from its parent class, <code>Block</code>. By &quot;re&quot;-defining that event in the child, we will &quot;override&quot; the parent behavior.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>In the class definition for <code>ExtraLifeBlock</code>, outside the constructor, define a new <code>handleBallHit()</code> method that calls <code>princess.addALife()</code> <em>and nothing else</em>. <br/></p></li></ul><p>Note that this <em>overrides</em> (replaces) the parent class <code>handleBallHit()</code> method for each instance of <code>ExtraLifeBlock</code>.  We haven&#39;t yet defined <code>princess.addALife()</code>.  We will do that now.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>In the <code>princess</code> object literal, define an <code>addALife()</code> method that does the following:</p></li></ul><ul><li>Increments the value of <code>this.lives</code> by 1</li><li>Calls <code>this.updateLivesDisplay()</code></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Run your game and test that the <code>ExtraLifeBlock</code> instance behaves as expected.</p></li></ul><p>The instance of <code>ExtraLifeBlock</code> acts almost exactly like an instance of the parent <code>Block</code> class, but it used a different collision handler defined in the child object. This is an example of <em>polymorphism</em>.</p><p>&quot;Polymorphism&quot; comes from Greek roots that mean &quot;having many forms&quot;. Here, this means that it&#39;s possible for a block to be an instance of <code>ExtraLifeBlock</code> and also to be an instance of <code>Block</code>, the parent.</p><p><strong>Polymorphism</strong>:</p><p><em>A feature of object-oriented programming that treats instances differently depending on their most specific object. In particular, allowing child objects to define their own specific behavior for some operations, while continuing to inherit parent behavior for other operations.</em></p><h2><a name='header-n433' class='md-header-anchor '></a><em>Adding</em> to the parent&#39;s behavior</h2><p>Suppose you want <code>ExtraBallBlock</code> to behave differently, too. It will still do everything the parent does: the ball should bounce against it, and the block should be destroyed with an explosion. But <em>in addition</em>, a second soccer ball will be created, to add interest to the game play.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>In the constructor definition for the <code>ExtraBallBlock</code> class, set the image file to <code>&#39;block3.png&#39;</code>.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Override the  <code>handleBallHit()</code> method like this:</p></li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">handleBallHit</span>() {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-keyword">super</span>.<span class="cm-property">handleBallHit</span>(); <span class="cm-comment">// call function in superclass</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-keyword">new</span> <span class="cm-variable">Ball</span>(); <span class="cm-comment">// extend superclass behavior</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 92px;"></div><div class="CodeMirror-gutters" style="display: none; height: 122px;"></div></div></div></pre><p>The first command, <code>super.handleBallHit();</code>,  calls the same event in the parent class. If you stopped here, you would get exactly the same behavior as you had before overriding the parent&#39;s behavior. But the goal is to <em>add</em> to that behavior, so we add some additional code to the function definition; in this case, creating a new instance of the <code>Ball</code> class.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Run the game and test for the expected behavior. When the ball strikes an instance of <code>ExtraBallBlock</code>, the block should be destroyed and an additional soccer ball should appear.</p></li></ul><h3><a name='header-n450' class='md-header-anchor '></a>Removing the penalty for losing the &#39;extra&#39; balls</h3><p>There is a small problem with this programming. Each time a soccer ball leaves the room, the player loses a life. The extra soccer balls are intended as a fun and useful &quot;bonus&quot; only. As long as the player keeps one or more balls in the air, there should be no penalty.</p><p>You will now modify things so that the player loses a life only when all soccer balls have left the room.</p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Outside the class definitions, create a new variable called <code>Ball.ballsInPlay</code> and set its value to zero.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>In the constructor method definition of the  <code>Ball</code> class, add a line to the  to increment the value of <code>Ball.ballsInPlay</code> by 1.</p></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>In the class definition for <code>Ball</code>, modify the <code>handleBoundaryContact()</code> method definition to decrement the value of <code>Ball.ballsInPlay</code> by 1, and then only call the <code>princess.loseALife()</code> method <em>if</em> <code>Ball.ballsInPlay</code> is equal to zero.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Run the game to verify that everything is working correctly.</p></li></ul><h2><a name='header-n469' class='md-header-anchor '></a>Wrapping up</h2><p>One final point: this game&#39;s level of interest and challenge depends not only on the programming, but also on the arrangement of blocks in the room. Experiment until you find a good balance.  Challenge yourself to use <code>for</code> loops to create rows or columns of blocks. </p><p>If you find it too difficult to catch the balls when they are first created, consider modifying the <code>handleGameLoop()</code> method in the <code>Ball</code> class to slow the balls down at first, like this:</p><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-variable">handleGameLoop</span>() {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// Movement starts slowly so player can get set.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-keyword">this</span>.<span class="cm-property">speed</span> <span class="cm-operator">&lt;</span> <span class="cm-number">200</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">speed</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-property">speed</span> <span class="cm-operator">+</span> <span class="cm-number">2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">playAnimation</span>(<span class="cm-string">'spin'</span>, <span class="cm-atom">true</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">delete</span> <span class="cm-keyword">this</span>.<span class="cm-property">handleGameLoop</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> }</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 207px;"></div><div class="CodeMirror-gutters" style="display: none; height: 237px;"></div></div></div></pre><p>For this to work, you will have to set the initial ball speed in the constructor definition equal to something much less than 200.  For example, <code>this.speed = 10;</code></p><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>When you are satisfied with the playability of your game, upload it to the assignment tab of Sakai.</p></li><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Use Question Set 6 to review and evaluate your mastery of new concepts. </p></li></ul><h2><a name='header-n484' class='md-header-anchor '></a>Break-In Project</h2><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Modify the Castle Break-In game to add two or more classes derived from the <code>Block</code> class.  Have each derived class provide a unique benefit, power-up or penalty to the player.<br/></p></li></ul><ul class='task-list'><li class='task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' ></input><p>Upload your finished project to Sakai.</p></li></ul></div>
</body>
</html>