<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>2_WizardsDuel</title><link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 2; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px !important; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 32px; padding-right: 32px; padding-bottom: 0px; break-after: avoid; }
  .typora-export #write::after { height: 0px; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none 0s ease 0s; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="mermaid"] svg, [lang="flow"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root { --side-bar-bg-color: #fafafa; --control-text-color: #777; }
html { font-size: 16px; }
body { font-family: "Open Sans", "Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif; color: rgb(51, 51, 51); line-height: 1.6; }
#write { max-width: 860px; margin: 0px auto; padding: 30px 30px 100px; }
#write > ul:first-child, #write > ol:first-child { margin-top: 30px; }
a { color: rgb(65, 131, 196); }
h1, h2, h3, h4, h5, h6 { position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text; }
h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor { text-decoration: none; }
h1 tt, h1 code { font-size: inherit; }
h2 tt, h2 code { font-size: inherit; }
h3 tt, h3 code { font-size: inherit; }
h4 tt, h4 code { font-size: inherit; }
h5 tt, h5 code { font-size: inherit; }
h6 tt, h6 code { font-size: inherit; }
h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
h3 { font-size: 1.5em; line-height: 1.43; }
h4 { font-size: 1.25em; }
h5 { font-size: 1em; }
h6 { font-size: 1em; color: rgb(119, 119, 119); }
p, blockquote, ul, ol, dl, table { margin: 0.8em 0px; }
li > ol, li > ul { margin: 0px; }
hr { height: 2px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border: 0px none; overflow: hidden; box-sizing: content-box; }
li p.first { display: inline-block; }
ul, ol { padding-left: 30px; }
ul:first-child, ol:first-child { margin-top: 0px; }
ul:last-child, ol:last-child { margin-bottom: 0px; }
blockquote { border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119); }
blockquote blockquote { padding-right: 0px; }
table { padding: 0px; word-break: initial; }
table tr { border-top: 1px solid rgb(223, 226, 229); margin: 0px; padding: 0px; }
table tr:nth-child(2n), thead { background-color: rgb(248, 248, 248); }
table tr th { font-weight: bold; border-width: 1px 1px 0px; border-top-style: solid; border-right-style: solid; border-left-style: solid; border-top-color: rgb(223, 226, 229); border-right-color: rgb(223, 226, 229); border-left-color: rgb(223, 226, 229); border-image: initial; border-bottom-style: initial; border-bottom-color: initial; margin: 0px; padding: 6px 13px; }
table tr td { border: 1px solid rgb(223, 226, 229); margin: 0px; padding: 6px 13px; }
table tr th:first-child, table tr td:first-child { margin-top: 0px; }
table tr th:last-child, table tr td:last-child { margin-bottom: 0px; }
.CodeMirror-lines { padding-left: 4px; }
.code-tooltip { box-shadow: rgba(0, 28, 36, 0.3) 0px 1px 1px 0px; border-top: 1px solid rgb(238, 242, 242); }
.md-fences, code, tt { border: 1px solid rgb(231, 234, 237); background-color: rgb(248, 248, 248); border-radius: 3px; padding: 2px 4px 0px; font-size: 0.9em; }
code { background-color: rgb(243, 244, 244); padding: 0px 2px; }
.md-fences { margin-bottom: 15px; margin-top: 15px; padding-top: 8px; padding-bottom: 6px; }
.md-task-list-item > input { margin-left: -1.3em; }
@media print {
  html { font-size: 13px; }
  table, pre { break-inside: avoid; }
  pre { overflow-wrap: break-word; }
}
.md-fences { background-color: rgb(248, 248, 248); }
#write pre.md-meta-block { padding: 1rem; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border: 0px; border-radius: 3px; color: rgb(119, 119, 119); margin-top: 0px !important; }
.mathjax-block > .code-tooltip { bottom: 0.375rem; }
.md-mathjax-midline { background: rgb(250, 250, 250); }
#write > h3.md-focus::before { left: -1.5625rem; top: 0.375rem; }
#write > h4.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h5.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h6.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
.md-image > .md-meta { border-radius: 3px; padding: 2px 0px 0px 4px; font-size: 0.9em; color: inherit; }
.md-tag { color: rgb(167, 167, 167); opacity: 1; }
.md-toc { margin-top: 20px; padding-bottom: 20px; }
.sidebar-tabs { border-bottom: none; }
#typora-quick-open { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); }
#typora-quick-open-item { background-color: rgb(250, 250, 250); border-color: rgb(254, 254, 254) rgb(229, 229, 229) rgb(229, 229, 229) rgb(238, 238, 238); border-style: solid; border-width: 1px; }
.on-focus-mode blockquote { border-left-color: rgba(85, 85, 85, 0.12); }
header, .context-menu, .megamenu-content, footer { font-family: "Segoe UI", Arial, sans-serif; }
.file-node-content:hover .file-node-icon, .file-node-content:hover .file-node-open-state { visibility: visible; }
.mac-seamless-mode #typora-sidebar { background-color: var(--side-bar-bg-color); }
.md-lang { color: rgb(180, 101, 77); }
.html-for-mac .context-menu { --item-hover-bg-color: #E6F0FE; }
#md-notification .btn { border: 0px; }
.dropdown-menu .divider { border-color: rgb(229, 229, 229); }
.ty-preferences .window-content { background-color: rgb(250, 250, 250); }
.ty-preferences .nav-group-item.active { color: white; background: rgb(153, 153, 153); }

 .typora-export li, .typora-export p, .typora-export,  .footnote-line {white-space: normal;} 
</style>
</head>
<body class='typora-export os-windows' >
<div  id='write'  class = 'is-node'><h1><a name="wizards-duel-part-1" class="md-header-anchor"></a><span>Wizards&#39; Duel, Part 1</span></h1><p><span>First let&#39;s start with a review of what you learned in the last tutorial.  As a test of your understanding and syntax memorization, try to complete these steps without looking back at your StrangerHunt code, unless you get stuck.  The code will be very similar to what you already did in the previous game.</span></p><p><span>In </span><code>wizardsDuel.js</code><span>, write some JavaScript code to accomplish the following things:</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Import </span><code>game</code><span> and </span><code>Sprite</code><span> modules from &quot;./sgc/sgc.js&quot;</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Set the background to &quot;floor.png&quot; (</span><em><span>HINT: use the </span><code>game.setBackground()</code><span> method</span></em><span>)</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Declare a class called </span><code>PlayerWizard</code><span> that is a </span><em><span>child</span></em><span> of the </span><code>Sprite</code><span> class.</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>In the constructor method of the </span><code>PlayerWizard</code><span> class:</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Call the parent&#39;s class constructor (</span><em><span>HINT: Clark Kent</span></em><span>)</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Set the </span><code>name</code><span> property to &quot;Marcus the Wizard&quot;</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Call the </span><code>setImage()</code><span> function with &quot;marcusSheet.png&quot; as an argument</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Set the </span><code>width</code><span> and </span><code>height</code><span> properties to 48</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Set the </span><code>x</code><span> position to </span><code>this.width</code><span> and </span><code>y</code><span> to </span><code>this.height</code></p></li></ul></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Create an object of the </span><code>PlayerWizard</code><span> class called </span><code>marcus</code><span>.</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Run the game.  </span></p></li></ul><p><span>You should see Marcus in the upper left hand corner of the floor, standing there quietly.  If you did all that without looking back, congratulations!  If not, please review your syntax flashcards, or make new ones to fill in the blanks.  Remember, we are learning a new </span><em><span>language</span></em><span> so we have to memorize some vocabulary and grammar rules.</span></p><hr /><p><span>In the last tutorial, we used static image files to portray the characters.  Now we will use a series of images in </span><em><span>image sheets</span></em><span> to animate the characters in the story.  These are typically png files with 12 frames in them, three each for left, right, front and back facings of the sprite.  </span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>From your workspace, open </span><code>marcusSheet.png</code></p></li></ul><p><img src="/images/MarcusSheet.PNG" referrerpolicy="no-referrer" alt="MarcusSheet"></p><p><span>Notice that the frame corresponding to the single image of Marcus we used in the last tutorial is the 8th one from the left.  On either side is Marcus with one or the other foot forward.  Playing these three frames in succession gives the illusion of Marcus walking down the screen. We will use the </span><code>defineAnimation</code><span> method to tell the game engine which frames to play for each facing.  </span></p><p><span>Search for (CTRL+F) </span><code>defineAnimation</code><span> in the </span><code>gameController</code><span> help accessed from the README file in your tutorials folder. </span></p><p><img src="/images/defineAnimation.PNG" referrerpolicy="no-referrer" alt="defineAnimation"></p><p><span>Let&#39;s define an animation for the &quot;down&quot; direction.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Add this line of code to the constructor of the  </span><code>PlayerWizard</code><span> class definition:</span></p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="javascript"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="javascript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">this</span>.<span class="cm-property">defineAnimation</span>(<span class="cm-string">"down"</span>, <span class="cm-number">6</span>, <span class="cm-number">8</span>);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p><span>&quot;The zero-based sheet index&quot; means we start counting from 0, not 1.  So the 7th frame from the left is actually frame number 6 because the first frame is frame 0!  This is the convention for indexing arrays in JavaScript and most other programming languages.</span></p><p><span>And to display this animation for an object in the class we would use (but don&#39;t add this yet):</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="javascript"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="javascript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">this</span>.<span class="cm-property">playAnimation</span>(<span class="cm-string">"down"</span>);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p>&nbsp;</p><h2><a name="player-character-navigation" class="md-header-anchor"></a><span>Player Character Navigation</span></h2><h3><a name="the-down-arrow-key" class="md-header-anchor"></a><span>The Down arrow key</span></h3><p><span>Say we want the down arrow key to move Marcus toward the bottom of the screen. His front should be showing, and walking animation should be displayed.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>In the </span><code>PlayerWizard</code><span> constructor, create a custom property called </span><code>speedWhenWalking</code><span> and set its value to 100, like this:</span></p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="javascript"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="javascript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">this</span>.<span class="cm-property">speedWhenWalking</span> <span class="cm-operator">=</span> <span class="cm-number">100</span>;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p><span>This will be used to define how rapidly a </span><code>PlayerWizard</code><span> object moves up or down the screen in response to our input (100 pixels per second).  You won&#39;t find </span><code>speedWhenWalking</code><span> listed in the properties of the </span><code>Sprite</code><span> class in the sgc documentation.  </span><code>speedWhenWalking</code><span>is a </span><em><span>custom variable</span></em><span> - it is a property of any object in the </span><code>PlayerWizard</code><span> class we just created on the fly for our own sinister purposes.  </span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Look for a </span><code>Sprite</code><span> method in the help file that will execute a function when the down arrow key is pressed. </span></p></li></ul><p><span>Did you find </span><code>handleDownArrowKey</code><span>?  Let&#39;s use it to move Marcus down the screen, and display the corresponding frames.  </span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Add this function definition (outside of the constructor!) to the class definition for </span><code>PlayerWizard</code><span>:</span></p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="javascript"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="javascript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">handleDownArrowKey</span>() {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">playAnimation</span>(<span class="cm-string">"down"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">speed</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-property">speedWhenWalking</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">angle</span> <span class="cm-operator">=</span> <span class="cm-number">270</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 115px;"></div></div></div></pre><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Run the game. Test that the </span><em><span>down</span></em><span> arrow key causes Marcus to move toward the bottom of the screen, with his front showing and walking animation playing. </span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Using the previous steps as a guide, add a function definition to handle an </span><em><span>up</span></em><span> arrow key press, with the appropriate animation and direction. </span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Run the game.  Test that the up and down arrow keys cause Marcus to move toward the appropriate edge of the screen, with the correct side showing and walking animation playing.</span></p></li></ul><p><span>Unfortunately, you can walk Marcus completely off of the window, and when the arrow key is released, he still moves even though his animation stops playing.  We should do something about this ... in part 2.</span></p><h1><a name="wizards-duel-part-2" class="md-header-anchor"></a><span>Wizard&#39;s Duel, Part 2</span></h1><p><span>To keep Marcus inside the display area of the window, we need to define a method that executes every game loop pass, and adjusts Marcus&#39;s </span><code>y</code><span> coordinate if it exceeds the display height (minus the sprite width, so it doesn&#39;t hang off the edge of the window) or goes negative (which would put the top of the sprite above the top of the window) .  So far we have been using </span><code>Sprite</code><span> methods like </span><code>handleMouseClick()</code><span>, </span><code>handleDownArrowKey()</code><span> etc. to define functions to be executed in response to an input from the user.  Perhaps there is another method that will execute every game loop regardless of user input.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Check the sgc documentation for an appropriate method in the </span><code>Sprite</code><span> class. </span></p></li></ul><p><span>Did you find </span><code>handleGameLoop</code><span>?  The game engine is built around a &quot;game loop.&quot;   This is a repeating series of steps that cycle endlessly as long as the game is running.  When you want something to happen continuously, you can program it in the function definition for the </span><code>handleGameLoop</code><span> method.  Any commands that you place there will be performed on every pass through the game loop.</span></p><p><span>There are many ways to confine the </span><code>y</code><span> coordinate to the display area, but one of the more elegant involves  </span><code>Math</code><span> methods called </span><code>Math.max()</code><span> and </span><code>Math.min()</code><span>.  These, and other methods in JavaScript&#39;s </span><code>Math</code><span> object are explained in detail </span><a href='https://www.w3schools.com/js/js_math.asp'><span>here</span></a><span>.  For example, if we want </span><code>y</code><span> to stay above five and below 552 (600 minus the sprite width) we could use the following lines in a </span><code>handleGameLoop</code><span> method definition:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="javascript"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="javascript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">this</span>.<span class="cm-property">y</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">max</span>(<span class="cm-number">5</span>, <span class="cm-keyword">this</span>.<span class="cm-property">y</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">this</span>.<span class="cm-property">y</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">min</span>(<span class="cm-number">552</span>, <span class="cm-keyword">this</span>.<span class="cm-property">y</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre><p><span>This is an example of a code segment that should include comments, since it is not immediately obvious what it does. The first line picks the </span><em><span>greatest</span></em><span> of 5, or the current value of </span><code>y</code><span> and assigns it to </span><code>y</code><span>.  The second takes the </span><em><span>lowest</span></em><span> of 552, or the current value of </span><code>y</code><span> and assigns it to </span><code>y</code><span>.  In other words, if y gets to -1 as a result of being decremented in a call to </span><code>handleUpArrowKey</code><span>, the first assignment statement will set it to 5. If </span><code>y</code><span> gets to 553 as a result of being incremented in a call to </span><code>handleDownArrowKey</code><span>, the second assignment will set it back to 552.  The net effect is to keep Marcus in the display area.  Unfortunately, writing the code in this way does not make it very flexible, should you decide to change the display dimensions or sprite size.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Inside the </span><code>PlayerWizard</code><span> class definition (but outside the constructor), define a </span><code>handleGameLoop</code><span> method that adjusts y coordinates as shown above, except modify the second line to use the</span><code>game</code><span> properties of </span><code>displayHeight</code><span> and </span><code>gridSize</code><span>.  Don&#39;t forget to add comments like this to your function definition:</span></p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="javascript"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="javascript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Keep Marcus in the display area </span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p><span>We also want Marcus to stop if the arrow keys are not pressed, so let&#39;s set his speed to zero every game loop.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Inside the </span><code>handleGameLoop()</code><span> method definition, add a statement that sets the speed to zero.</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Run your game and test that Marcus stays in the display area.</span></p></li></ul><p><span>Now let&#39;s give Marcus the ability to cast spells (in the form of projectiles).  To do this we will be creating &quot;spell&quot; objects -- a lot of them -- that all look the same and do the same sorts of things.  </span></p><h2><a name="a-spell-class" class="md-header-anchor"></a><span>A spell class</span></h2><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Declare a class called </span><code>Spell</code><span> which is a child of the </span><code>Sprite</code><span> class.</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>In the constructor method of the </span><code>Spell</code><span> class:</span></p></li></ul><ul><li><span>Call the parent&#39;s class constructor</span></li><li><span>Set  </span><code>speed</code><span> equal to 200</span></li><li><span>Set </span><code>height</code><span> and </span><code>width</code><span> to 48</span></li><li><span>Define an animation called &quot;magic&quot; that uses frames 0 through 7 (</span><em><span>HINT: use </span><code>this.defineAnimation()</code></em><span>)</span></li><li><span>Play the &quot;magic&quot; animation as before but this time we will use the second (optional) parameter to repeat the animation if </span><em><span>true</span></em><span>, or to play it once if </span><em><span>false</span></em><span> like this:</span></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">this.playAnimation("magic", true);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><h2><a name="casting-spells" class="md-header-anchor"></a><span>Casting spells</span></h2><p><span>We are going to use the spacebar to cast spells for Marcus.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>In the </span><code>PlayerWizard</code><span> class definition (outside the constructor), define a </span><code>handleSpacebar()</code><span> method which does the following:</span></p></li><li><span>Create an object called </span><code>spell</code><span> (lower case s) from the </span><code>Spell</code><span> class (upper case s).</span></li><li><span>Set the </span><code>spell</code><span> object&#39;s position to the position of </span><em><span>this</span></em><span> object in the </span><code>PlayerWizard</code><span> class like this:</span></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">spell.x = this.x;  // this sets the position of the spell object equal to</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">spell.y = this.y;  // the position of any object created from the class</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre><ul><li><span>Set the </span><code>spell</code><span> object&#39;s name to &quot;A spell cast by Marcus&quot;</span></li><li><span>Call the </span><code>setImage()</code><span> method using &quot;marcusSpellSheet.png&quot; as an argument</span></li><li><span>Set the </span><code>spell</code><span> object&#39;s angle to zero.</span><span>	</span></li></ul><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Run the game and test that Marcus can cast spells by pressing the spacebar, and that the spell is created at Marcus&#39; current location, and runs off the screen to the right while playing the appropriate animation.</span></p></li></ul><p><span>I know it&#39;s not perfect.  We will fix some of the problems you see very soon.</span></p><h2><a name="a-word-about-style" class="md-header-anchor"></a><span>A word about style</span></h2><p><span>You might have noticed that we are using </span><strong><span>camelCase</span></strong><span> for identifier names (objects, variables and functions), and </span><strong><span>PascalCase</span></strong><span> for classes.  PascalCase is considered a subset of camelCase, actually (it is &quot;upper case&quot; camelCase, so to speak). This follows generally accepted style guidelines for coding, which makes it easier to read and maintain code that someone else has written.  For more about JavaScript style and coding conventions, refer to the </span><a href='https://www.w3schools.com/js/js_conventions.asp'><span>JS Style Guide</span></a><span>.</span></p><h2><a name="deleting-game-objects-to-conserve-resources" class="md-header-anchor"></a><span>Deleting game objects to conserve resources</span></h2><p><span>When the </span><code>spell</code><span> objects leave the screen, you have no further use for them. But they do not simply cease to exist. The game engine is still tracking their position and keeping track of all their associated data.</span></p><p><span>This is a waste of system resources, and this kind of issue can lead to poor game performance. It is time to clean up after yourself!</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Add the following method to the class definition for </span><code>Spell</code><span> </span><em><span>outside</span></em><span> of the constructor definition.  </span></p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="javascript"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="javascript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">handleBoundaryContact</span>() {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// Delete spell when it leaves display area</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">game</span>.<span class="cm-property">removeSprite</span>(<span class="cm-keyword">this</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 92px;"></div><div class="CodeMirror-gutters" style="display: none; height: 92px;"></div></div></div></pre><p><span>The</span><code>handleBoundaryContact()</code><span> method will get called every time </span><code>x</code><span>or </span><code>y</code><span>  of the associated object are outside the bounds of the display area. In this case, your programming will cause the </span><code>spell</code><span> objects to be deleted from the game when they leave the room.</span></p><h2><a name="graphical-fine-tuning" class="md-header-anchor"></a><span>Graphical fine tuning</span></h2><p><span>Now you will improve the visuals of Marcus&#39;s spell casting.  Marcus will face toward the right edge of the screen when a spell is cast, so he is looking in the direction that it goes, and the spell sprite will be created in front of him, rather than on top of him as it is now.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Inside the constructor of the </span><code>PlayerWizard</code><span> class, define an animation called &#39;right&#39; that uses frames 3 through 5 of </span><code>marcusSheet.png</code><span>.  </span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Inside the </span><code>PlayerWizard</code><span>  </span><code>handleSpacebar</code><span> function definition, add a line to play Marcus&#39;s &quot;right&quot; animation.</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Modify the </span><code>x</code><span> position of the </span><code>spell</code><span> object so that it starts a distance </span><code>this.width</code><span> to the right of Marcus.</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Run your game and verify that Marcus turns to the right and fires a spell in front of him when the space bar is pressed.</span></p></li></ul><h2><a name="wrapping-up" class="md-header-anchor"></a><span>Wrapping Up</span></h2><p><span>Use Question Set 3 to review and evaluate your mastery of new concepts.</span></p><h1><a name="wizards-duel-part-3" class="md-header-anchor"></a><span>Wizard&#39;s Duel Part 3</span></h1><h2><a name="a-non-player-character-npc" class="md-header-anchor"></a><span>A Non-Player Character (NPC)</span></h2><p><span>Marcus eventually gets tired at shooting his spells into thin air, so we should give him a target that can shoot back.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Define a </span><code>NonPlayerWizard</code><span> class that is child of the </span><code>Sprite</code><span> class.</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>In the constructor method for this class:</span></p></li><li><span>Call the parent class constructor</span></li><li><span>Set the name to &quot;The mysterious stranger&quot;</span></li><li><span>Call the </span><code>setImage()</code><span> function with &quot;strangerSheet.png&quot; as the argument</span></li><li><span>Set the </span><code>width</code><span> and </span><code>height</code><span> to 48</span></li><li><span>Set the </span><code>x</code><span> coordinate to </span><code>game.displayWidth - 2 * this.width</code><span> to put the NPC near the right edge of the display</span></li><li><span>Set the </span><code>y</code><span> coordinate to </span><code>this.height</code><span> to put the NPC near the top of the screen</span></li><li><span>Set the </span><code>angle</code><span> to 270</span></li><li><span>Set the </span><code>speed</code><span> to 150</span></li><li><span>Define &quot;up,&quot; &quot;down,&quot; and &quot;left&quot; animations </span></li></ul><p><img src="/images/strangerSheet.png" referrerpolicy="no-referrer" alt="strangerSheet"></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Note: "up" and "down" can use the same frames that we used for the `marcus` object (0 through 2 for "up," and 6 through 8 for "down"), but can you tell what frames we should use for "left"?</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 69px;"></div><div class="CodeMirror-gutters" style="display: none; height: 69px;"></div></div></div></pre><ul><li><span>Play the &quot;down&quot; animation</span></li></ul><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Create an object of the </span><code>NonPlayerWizard</code><span> class called </span><code>stranger</code><span>.</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Run your game and verify that the Stranger appears at the upper right hand corner of the screen and drifts down and off the screen with no walking animation.</span></p></li></ul><p><span>To add a walking animation for the Stranger, and to keep him from walking off the screen, we will have to define a </span><code>handleGameLoop</code><span> function for him, similar to what we did for Marcus when we wanted to keep Marcus in the display area.  Unfortunately if we just follow the same recipe with </span><code>Math.max()</code><span> and </span><code>Math.min()</code><span> functions, the Stranger will just wander to the bottom of the screen and stay there, making him a sitting duck for Marcus&#39;s wizardry.  To make things more challenging, we will have the Stranger change directions </span><em><span>if</span></em><span> he gets to the edge of the display area.  In order to do this we will use one of the most powerful weapons in the programmer&#39;s arsenal:  </span><strong><span>conditional actions</span></strong><span>.</span></p><h2><a name="conditional-actions" class="md-header-anchor"></a><span>Conditional Actions</span></h2><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Read </span><a href='http://computationaltales.blogspot.com/2011/05/learning-if-else-hard-way.html'><span>Learning IF-ELSE the Hard Way</span></a></p></li></ul><p><span>Here is the syntax and usage for </span><code>if</code><span> statements in JavaScript:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="javascript"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="javascript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">condition</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// block of code to be executed if condition is true</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">} </span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 69px;"></div><div class="CodeMirror-gutters" style="display: none; height: 69px;"></div></div></div></pre><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Define a </span><code>handleGameLoop()</code><span> method for the  </span><code>NonPlayerWizard</code><span> class that contains this code:</span></p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="javascript"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="javascript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-keyword">this</span>.<span class="cm-property">y</span> <span class="cm-operator">&lt;=</span> <span class="cm-number">0</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-comment">// Upward motion has reached top, so turn down</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">y</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">angle</span> <span class="cm-operator">=</span> <span class="cm-number">270</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">playAnimation</span>(<span class="cm-string">"down"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-keyword">this</span>.<span class="cm-property">y</span> <span class="cm-operator">&gt;=</span> <span class="cm-variable">game</span>.<span class="cm-property">displayHeight</span> <span class="cm-operator">-</span> <span class="cm-keyword">this</span>.<span class="cm-property">height</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">// Downward motion has reached bottom, so turn up</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-keyword">this</span>.<span class="cm-property">y</span> <span class="cm-operator">=</span> <span class="cm-variable">game</span>.<span class="cm-property">displayHeight</span> <span class="cm-operator">-</span> <span class="cm-keyword">this</span>.<span class="cm-property">height</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-keyword">this</span>.<span class="cm-property">angle</span> <span class="cm-operator">=</span> <span class="cm-number">90</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-keyword">this</span>.<span class="cm-property">playAnimation</span>(<span class="cm-string">"up"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 276px;"></div><div class="CodeMirror-gutters" style="display: none; height: 276px;"></div></div></div></pre><p><code>if</code><span> the Stranger is going off the top of the screen, then set his y position back to zero, and change his direction to 270 degrees, and play the &#39;down&#39; animation.</span></p><p><span>if the Stranger is going off the bottom of the screen, then set his position back to where the whole sprite image is showing, and change his angle to 90 degrees, and play the &#39;up&#39; animation.</span></p><h2><a name="comparison-operators" class="md-header-anchor"></a><span>Comparison Operators</span></h2><p><span>Comparison operators are used within conditional statements to determine equality or difference between variables or values.  We used the &quot;greater than or equal to&quot;  </span><code>&gt;=</code><span> and &quot;less than or equal to&quot; </span><code>&lt;=</code><span> operators in the previous example to see if the Stranger was out of bounds.  We need a few more.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Please read </span><a href='http://computationaltales.blogspot.com/2011/06/incident-at-north-gate-or-why-is-not.html'><span>The Incident at the North Gate (or Why = Is Not ==)</span></a><span>.   I recommend saying &quot;</span><em><span>is equal</span></em><span>&quot; to yourself when you see </span><code>==</code><span> or </span><code>===</code><span> and &quot;gets&quot; when you see </span><code>=</code><span> .</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Refer to </span><a href='https://www.w3schools.com/js/js_comparisons.asp'><span>this</span></a><span> article on operators and pay particular attention to the difference between </span><code>=</code><span>, </span><code>==</code><span>, and </span><code>===</code><span>.  We will be using </span><code>===</code><span> rather than </span><code>==</code><span> whenever possible.  Also now might be a good time to learn the symbols for the logical operators AND (</span><code>&amp;&amp;</code><span>), OR (</span><code>||</code><span>) and NOT(</span><code>!</code><span>). </span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Run the game and verify that the Stranger changes direction and (temporarily) changes his facing and associated animation when he reaches the edge of the display.</span></p></li></ul><p><span>Why temporarily?  Because the condition that triggers play animation only happens once each time the Stranger reaches an edge!  We need to add a statement that keeps the animation going at other times.  </span></p><h2><a name="animation-endings" class="md-header-anchor"></a><span>Animation Endings</span></h2><p><span>There is a </span><code>Sprite</code><span> method called </span><code>handleAnimationEnd()</code><span> that triggers whenever an animation defined for the associated sprite completes all of its frames.  We will use this in conjunction with some conditional statements to play the correct animation for the mysterious stranger.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Add a </span><code>handleAnimationEnd()</code><span> method definition to the </span><code>NonPlayerWizard</code><span> class that contains the following code:</span></p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="javascript"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="javascript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">condition1</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">playAnimation</span>(<span class="cm-string">"up"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">condition2</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">playAnimation</span>(<span class="cm-string">"down"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 138px;"></div></div></div></pre><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Replace &quot;condition1&quot; in the code above with a conditional statement that tests to see if </span><code>this.angle</code><span> </span><em><span>is equal</span></em><span> to 90, and replace &quot;condition2&quot; with a conditional statement that tests to see if </span><code>this.angle</code><span> </span><em><span>is equal</span></em><span> to 270.  </span><em><span>HINT:  Use the </span><code>===</code><span> operator to compare </span><code>this.angle</code><span> to 90 or 270.</span></em></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Run your game again and verify that the Stranger animates correctly in both directions.</span></p></li></ul><h1><a name="wizards-duel-part-4" class="md-header-anchor"></a><span>Wizard&#39;s Duel Part 4</span></h1><h2><a name="hitting-a-target" class="md-header-anchor"></a><span>Hitting a Target</span></h2><p><span>Now you will make the Stranger vulnerable to Marcus&#39;s spells. When he is hit:</span></p><ol start='' ><li><span>An explosion effect will display.</span></li><li><span>The stranger object will be destroyed. </span></li><li><span>A congratulations message will be shown.</span></li></ol><p><span>In the previous game, we used the default behavior for collisions between the objects in the </span><code>Sprite</code><span> class; they just bounced when they collided.  Now we&#39;d like to define some different behavior for the collision between a </span><code>spell</code><span> object and the Stranger.  The </span><code>Sprite</code><span> method we will use for this is </span><code>handleCollision(otherSprite)</code><span>.  The method is called each game loop where </span><em><span>this</span></em><span> sprite is touching another sprite.  It </span><em><span>overrides</span></em><span> the base implementation, which is that the sprites just bounce off each other.  The </span><code>otherSprite</code><span> variable holds (is set equal to) the other sprite involved in the collision.  Instead of bouncing off the </span><code>stranger</code><span> sprite, we want to create a fireball, and delete both objects involved in the collision.</span></p><p><img src=".\images\handleCollision.PNG" referrerpolicy="no-referrer" alt="handleCollision"></p><h2><a name="create-a-fireball-at-the-location-where-the-stranger-used-to-be-and-delete-the-colliding-sprites" class="md-header-anchor"></a><span>Create a fireball at the location where the Stranger used to be and delete the colliding sprites</span></h2><p><span>First let&#39;s create a Fireball class to make some &quot;explosion effect&quot; objects.  Up to now, we have not passed any arguments to the </span><code>constructor()</code><span> method.  This time, we will pass the </span><code>otherSprite</code><span> object to it, so we set the position of the fireball to the position of the sprite we just hit.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Define a </span><code>Fireball</code><span> class which is a child of the </span><code>Sprite</code><span> class and pass an object to the constructor which we will refer to as </span><code>deadSprite</code><span> within the class definition, like this:</span></p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">class Fireball extends Sprite {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  constructor(deadSprite) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  super();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  this.x = deadSprite.x;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  this.y = deadSprite.y;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  ...</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 138px;"></div></div></div></pre><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Finish the constructor definition started above by:</span></p><ul><li><span>Setting the image of each object in the class to </span><code>fireballSheet.png</code><span>.</span></li><li><span>Setting the name of each object in the class to &quot;A ball of fire.&quot;</span></li><li><span>Remove the </span><code>deadSprite</code><span> object by using </span><code>game.removeSprite(deadSprite)</code><span>;</span></li><li><span>Defining an animation called &quot;explode&quot; that uses all 16 frames of the image sheet.</span></li><li><span>Playing the &quot;explode&quot; animation.</span></li></ul></li></ul><p><span>Where is a good place to define a </span><code>handleCollision(otherSprite)</code><span> method?  We could put it in the class definition for </span><code>NonPlayerWizard</code><span>, but if we did that, we would also have to put one in the </span><code>PlayerWizard</code><span> class eventually since the stranger will no doubt be casting some spells of his own.  Better to have it one place: the </span><code>Spell</code><span> class, since spells are the things that will be colliding with both types of wizards, and maybe even other spells.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Add a </span><code>handleCollision(otherSprite)</code><span> method to the </span><code>Spell</code><span> class definition that removes </span><em><span>this</span></em><span> spell sprite, and creates a new object in the </span><code>Fireball</code><span> class, while passing the </span><code>otherSprite</code><span> object to the constructor of the </span><code>Fireball</code><span> class like this:</span></p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">handleCollision(otherSprite) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; game.removeSprite(this);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; new Fireball(otherSprite);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; return false;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 115px;"></div></div></div></pre><p><span>Here is how this works.  Let&#39;s say a </span><code>spell</code><span> object collides with the </span><code>stranger</code><span> object, triggering the </span><code>handleCollision()</code><span> method.  Now the variable </span><code>otherSprite</code><span> refers to the object  </span><code>stranger</code><span>, and </span><code>this</code><span> refers to the </span><code>spell</code><span> object that hit him.   The first line removes the </span><code>spell</code><span> object.  The second line calls the constructor of the </span><code>Fireball</code><span> class, passing it the </span><code>stranger</code><span> object.  Inside the </span><code>Fireball</code><span> constructor, any reference to </span><code>deadSprite</code><span> is a reference to the </span><code>stranger</code><span> object.  So when the </span><code>Fireball</code><span> constructor removes </span><code>deadSprite</code><span> it is actually removing the </span><code>stranger</code><span> object from the game.  If that doesn&#39;t make sense, please ask one of the instructors to explain it better; it&#39;s a tricky concept to grasp.</span></p><p><span>The last line </span><em><span>returns</span></em><span> false.  When a method returns something it means the method has a </span><em><span>value</span></em><span> that the caller can use to do stuff.  In this case, it signals the </span><code>Sprite</code><span> class that a bounce is not desired (see the </span><code>handleCollision()</code><span> documentation above). </span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Run your program and verify that you get an explosion effect when you cast a spell</span></p></li></ul><p><span>One problem is we are getting a collision right away because Marcus is generating multiple spells with each press of the spacebar and they are running into each other.  Let&#39;s fix that.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Inside the collision handler for the </span><code>Spell</code><span> class, enclose the first two lines in an </span><code>if</code><span> statement that checks to make sure that the same spell sprites don&#39;t destroy each other, like this:</span></p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> // Compare images so Stranger's spells don't destroy each other.</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> if (this.getImage() !== otherSprite.getImage()) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  game.removeSprite(this);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  new Fireball(otherSprite);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> }</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 115px;"></div></div></div></pre><p><span>Here we are using another method of the </span><code>Sprite</code><span> class called </span><code>getImage()</code><span> that returns the image used to display the sprite.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Run the game and try to shoot the mysterious stranger (it shouldn&#39;t be too hard with Marcus&#39;s spell machine-gun).  Verify that the fireball is created at the location of the collision, and that the </span><code>stranger</code><span> sprite disappears. </span></p></li></ul><p><span>This is ok, but clearly we need to remove the fireball after the animation completes.  We will take care of that in the next step, along with a game winning (or losing) message.</span></p><h3><a name="end-the-game-with-a-congratulatory-message" class="md-header-anchor"></a><span>End the game with a congratulatory message</span></h3><p><span>We will accomplish this by defining an </span><code>handleAnimationEnd()</code><span> method for objects in the </span><code>Fireball</code><span> class, like we did before in the </span><code>NonPlayerWizard</code><span> class.  </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">handleAnimationEnd() {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  game.removeSprite(this);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  if (!game.isActiveSprite(stranger)) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  game.end("Congratulations!\n\nMarcus has defeated the mysterious"</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  + "\nstranger in the dark cloak!");</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 161px;"></div><div class="CodeMirror-gutters" style="display: none; height: 161px;"></div></div></div></pre><p><span>Here we are using a method of the </span><code>Game</code><span> class called </span><code>isActiveSprite()</code><span> that returns true if the argument is active in this game.  For example, </span><code>game.isActiveSprite(stranger)</code><span> will return true unless the </span><code>stranger</code><span> object has been removed from the game using </span><code>game.removeSprite()</code><span>.  Remember that the </span><code>!</code><span> operator </span><em><span>negates</span></em><span>, or gives the opposite of what comes after it, so </span><code>!game.isActiveSprite(stranger)</code><span> returns true if </span><code>stranger</code><span> has been removed.</span></p><p><span>This might also be a good time to mention the following suggestion from the </span><a href='https://www.w3schools.com/js/js_conventions.asp'><span>JavaScript style guide</span></a><span>: </span></p><p><em><span>&quot;For readability, avoid lines longer than 80 characters.</span></em>
<em><span>If a JavaScript statement does not fit on one line,</span></em><span> </span>
<em><span>the best place to break it,</span></em><span> </span>
<em><span>is after an operator or a comma.&quot;</span></em></p><p><span>In the code snippet above, the game ending message string was longer than 80 characters, so we used the </span><code>+</code><span> operator to concatenate the two parts of the message.  This is our preferred way to break up long strings.  Notice that we don&#39;t need a continuation character for long lines of </span><em><span>code</span></em><span> that don&#39;t include strings.  JavaScript doesn&#39;t care about line endings; it uses semicolons to tell when you have completed a program statement.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Run your game and test that the correct message is displayed when you hit the </span><code>stranger</code><span> and the explosion animation ends.</span></p></li></ul><hr /><p><span>We are improving with every iteration but every iteration uncovers new refinements we will want to implement.</span></p><p><span>The images for Marcus&#39;s spell objects are mostly transparent, and only the central rectangle has visible contents.  We want to register a hit on the Stranger only when the center portion of the spell &quot;projectile&quot; collides with the Stranger, not the whole 48x48 square. One way to approximate this is by calculating the vertical offset between the sprites, and dividing by 2.  We will </span><strong><span>nest</span></strong><span> this if statement inside your previous </span><code>if</code><span> statement as follows.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Inside the </span><code>Spell</code><span> class definition, replace your </span><code>handleCollision(otherSprite)</code><span> definition with this:</span></p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> // Compare images so Stranger's spells don't destroy each other.</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> if (this.getImage() !== otherSprite.getImage()) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  // Adjust mostly blank spell image to vertical center.</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  let verticalOffset = Math.abs(this.y - otherSprite.y);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  if (verticalOffset &lt; this.height / 2) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;  game.removeSprite(this);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;  new Fireball(otherSprite);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  return false;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 230px;"></div><div class="CodeMirror-gutters" style="display: none; height: 230px;"></div></div></div></pre><p><em><span>Nesting</span></em><span> </span><code>if</code><span> statements ensures that the inner-most block (starting with </span><code>let verticalOffset...</code><span> ) will only execute if both the outer </span><em><span>and</span></em><span> inner conditions are true.  We could do this with a single </span><code>if</code><span> statement using the </span><code>&amp;&amp;</code><span> operator if we wanted to, but it might make the code harder to read.</span></p><p><span>Now the </span><code>spell</code><span> sprite will have to overlap the </span><em><span>center</span></em><span> of the </span><code>otherSprite</code><span> in order for it to count as a &quot;hit.&quot;</span></p><h2><a name="targeting-the-player-character" class="md-header-anchor"></a><span>Targeting the Player Character</span></h2><p><span>The Stranger strikes back! </span></p><p><span>We want the Stranger to cast spells, and for Marcus to be vulnerable to that spell.  We were careful not to make our </span><code>Spell</code><span> class definition so narrow that it only applies spells cast by the </span><code>PlayerWizard</code><span> class objects, or to collisions with </span><code>NonPlayerWizard</code><span> class objects.  This is one of the advantages of object-oriented programming.  Each object is meant to &quot;stand alone, &quot; encapsulated with all its methods and properties, able to be used by any class.  But how will the Stranger cast his spell?  As a non-player character, there is no one pressing a key to control him. You must automate his behavior.  In the </span><code>PlayerWizard</code><span> class, we defined a </span><code>handleSpacebar()</code><span> method that created a </span><code>spell</code><span> object every time we hit the spacebar.  Let&#39;s add similar code to the </span><code>handleGameLoop()</code><span> definition in the </span><code>stranger</code><span> object.  Remember any code we place here will execute every game loop.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Using the </span><code>PlayerWizard</code><span>&#39;s &#39;</span><code>handleSpacebar()</code><span> method definition as a guide, add some code to the </span><code>NonPlayerWizard</code><span>&#39;s </span><code>handleGameLoop()</code><span> method that casts a spell ... every game loop.  You can use the same object name (</span><code>spell</code><span>) and properties -- just modify: </span></p><ul><li><span>the </span><code>name</code><span>, </span></li><li><span>the </span><code>x</code><span> and </span><code>y</code><span>  coordinates as appropriate, </span></li><li><span>the image argument used in the </span><code>setImage</code><span> method, </span></li><li><span>the </span><code>angle</code><span> </span></li><li><span>and the animation argument in the </span><code>playAnimation()</code><span> method.</span></li></ul></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Inside the </span><code>handleAnimationEnd()</code><span> method of the </span><code>Fireball</code><span> class definition, add a second </span><code>if</code><span> statement that checks to see if the the </span><code>marcus</code><span> sprite has been removed from the game, and prints the following message at the end of the game if it has:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">"Marcus is defeated by the mysterious\nstranger in the dark cloak!\n\nBetter luck next time."</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre></li></ul><p><em><span>Remember to use the </span><code>+</code><span> operator to break up the string if it makes your line longer than 80 characters.</span></em><span> </span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Run your game and test that the stranger sends out a continuous stream of spells towards Marcus, and that the appropriate message displays after the fireball animation, which appears in the correct places. </span></p></li></ul><p><span>Note that the spells destroy each other when they collide.  Why does this happen?</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>See if you can beat the game.  It is possible, but it is too easy to reproduce once you see the trick.</span></p></li></ul><h2><a name="random-behavior" class="md-header-anchor"></a><span>Random Behavior</span></h2><p><span>At this point, the Stranger should be continuously casting spells at Marcus. Once every game loop.</span></p><p><span>Clearly that is too much.  It&#39;s better if the Stranger&#39;s spell timing is less frequent and unpredictable. Random, even.</span></p><p><span>And that&#39;s the solution. Every time step, you will generate a random number. Depending on the number, you may or may not have the Stranger cast a spell.  Let&#39;s try having the Stranger cast a spell with 1% probability.</span></p><p><span>We have already used </span><code>Math.random()</code><span> to teleport our characters to random spots in the room in the previous tutorial, so perhaps you remember that this method generates a random number between 0 and 1 (including zero but not 1).  Since all numbers are equally probable, there is a 100% probability that the number will be less than 1, a 10% probability that the number will be less than 0.1, and a 1% probability that the number will be less than 0.01.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Inside the </span><code>NonPlayerWizard</code><span>&#39;s  </span><code>handleGameLoop()</code><span> definition, enclose the code your wrote in the previous section within an </span><code>if</code><span> statement that tests to see if </span><code>Math.random()</code><span> is less than 0.01.  </span><em><span>If</span></em><span> it is, then cast the spell as above.  In other words, enclose the code you wrote in the previous step inside of an </span><code>if</code><span> statement like this (still inside the </span><code>handleGameLoop()</code><span> method):</span></p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="javascript"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="javascript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-operator">***</span> <span class="cm-variable">write</span> <span class="cm-variable">your</span> <span class="cm-variable">conditional</span> <span class="cm-variable">expression</span> <span class="cm-variable">here</span> <span class="cm-operator">***</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-comment">// Create a spell object 48 pixels to the left of this object &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-comment">// Make it go left, give it a name and an image</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-comment">// Play the left animation</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 115px;"></div></div></div></pre><p><span>except with your code in place of, or in addition to the above comments.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Run your game and test that the Stranger casts spells at Marcus at a suitably challenging frequency.  If 1% is not suitable, change your conditional expression to taste.</span></p></li></ul><h2><a name="limiting-marcuss-spell-casting" class="md-header-anchor"></a><span>Limiting Marcus&#39;s Spell Casting</span></h2><p><span>Marcus can cast spells as quickly as the player taps (or holds) the spacebar. It is possible for Marcus to cast a solid line of spells that extend across the entire screen. That makes the game too easy to be interesting.  Let&#39;s say we want Marcus to cast a spell only once every two seconds.  In order to program this we will have to learn about scheduling events with the game engine&#39;s built-in timer.</span></p><p><span>We can get the number of seconds that have elapsed since the game started with the </span><code>game.getTime()</code><span> method.  As usual, you can check the usage and syntax for this method in the sgc documentation.  Here is how we might use it.  </span></p><p><span>First let&#39;s set our timer.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Inside the </span><code>constructor</code><span> method of the </span><code>PlayerWizard</code><span> class, define a variable called </span><code>spellCastTime</code><span> and set it&#39;s value to zero.  We want this variable to be a property of </span><code>PlayerWizard</code><span> objects so don&#39;t forget to use the </span><code>this</code><span> keyword.  If you don&#39;t remember how to do this, review the last part of Part 1, when we declared a </span><code>speedWhenWalking</code><span> variable.</span></p></li></ul><p><span>Now we define a </span><em><span>local</span></em><span> variable that stores the current time (</span><em><span>local</span></em><span> means it can&#39;t be used outside of the curly brackets where it was declared).</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Add the following to the beginning of your </span><code>handleSpacebar()</code><span> method for the </span><code>PlayerWizard</code><span> class:</span></p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="javascript"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="javascript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-keyword">let</span> <span class="cm-def">now</span> <span class="cm-operator">=</span> <span class="cm-variable">game</span>.<span class="cm-property">getTime</span>(); &nbsp;<span class="cm-comment">// get the number of seconds since game start</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Encapsulate the rest of your code in the </span><code>handleSpacebar()</code><span> method (the code that generates a </span><code>spell</code><span> object and assigns values to its properties) within an </span><code>if</code><span> statement that tests to see if 2 seconds has elapsed like this: </span></p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="javascript"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="javascript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">// if the current time is 2 or more seconds greater than the previous spellCastTime </span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">now</span> <span class="cm-operator">-</span> <span class="cm-keyword">this</span>.<span class="cm-property">spellCastTime</span> <span class="cm-operator">&gt;=</span> <span class="cm-number">2</span>) { </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; <span class="cm-comment">// reset the timer <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span></span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; <span class="cm-keyword">this</span>.<span class="cm-property">spellCastTime</span> <span class="cm-operator">=</span> <span class="cm-variable">now</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; <span class="cm-comment">// and cast a spell </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; <span class="cm-comment">// insert the rest of your spell-generating code here</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> } &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 184px;"></div><div class="CodeMirror-gutters" style="display: none; height: 184px;"></div></div></div></pre><p><span>Hopefully the comments clarify how we use the </span><code>getTime</code><span> function to set and reset a timer, and how to use the difference between the timer variable and the current time to have something happen after 2 seconds has elapsed.    </span></p><p><span>What might not be so clear is why we use the </span><code>let</code><span> keyword to hold the current time, and a previously undefined object property </span><code>marcus.spellCastTime</code><span> to hold the time that the last spell was cast.  If we used </span><code>let</code><span> for the </span><code>spellCastTime</code><span> variable too, it would be redefined every time </span><code>handleSpacebar()</code><span> is triggered, which would make it worthless as a holder for the last spell cast time.  This is important to remember:</span></p><p><em><span>Local variables are created when a function starts, and deleted when the function is completed.</span></em></p><p><span>Instead we need a variable that will stick around even when we get ejected from the </span><code>handleSpacebar</code><span> function because the </span><code>if</code><span> condition fails (i.e. because the timer hasn&#39;t yet &quot;gone off&quot;). Thus, we use an object property which has </span><em><span>global</span></em><span> scope.</span></p><h2><a name="wrapping-up-n357" class="md-header-anchor"></a><span>Wrapping Up</span></h2><p><span>This completes the Wizard&#39;s Duel tutorial.</span></p><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Read </span><a href='http://computationaltales.blogspot.com/2011/04/functions-and-sailing.html'><span>Functions and Sailing</span></a></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Use question set 4 to review and evaluate your mastery of new concepts.</span></p></li></ul><h1><a name="shooter-project" class="md-header-anchor"></a><span>Shooter project</span></h1><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Create or download a &quot;shooter&quot; sprite and background.  This can be a spaceship, a person, a dripping faucet, evil cucumber, or whatever.  </span><em><span>You can even re-use the sprite and background from your first project.</span></em></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Create or download one or more target sprites.  This can be a person, a soccer goal, an asteroid, space alien, computer science teacher, etc.</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Create or download projectile sprites.  They can be dots, bananas, rockets, etc. or you can re-use the sprites from Wizard&#39;s Duel if you wish.</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Create a shooter game as similar as practical to Wizard&#39;s Duel but different in one or more of the following ways:</span></p></li><li><p><span>move horizontally and shoot vertically</span></p></li><li><p><span>target and/or shooter move(s) in two dimensions</span></p></li><li><p><span>collision handler does something besides blowing up such as increasing speed, multiplying, increasing shooting speed, increasing a score, or whatever.</span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><span>Consider uploading your own, or any open-source sprites you find to the &quot;Sprites to Share&quot; folder of the Resources tab in Sakai. </span></p></li><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' disabled='disabled' /><p><strong><span>Cite your sources for pixel art in the comments of your code, or explicitly state which sprites are your original work.</span></strong><span>  I expect you will be making </span><em><span>your own</span></em><span> unique modifications to your </span><code>wizardsDuel.js</code><span> script to complete this project.</span></p><p><span>Grading is based on level of effort in any of the above categories.  For example if you wish to focus on sprite creation instead of programming complexity, please see </span><a href='http://makegames.tumblr.com/post/42648699708/pixel-art-tutorial'><span>this tutorial</span></a><span> on pixel art. </span></p></li></ul></div>
</body>
</html>